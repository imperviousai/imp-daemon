"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[471],{13471:function(e,n,t){t.d(n,{Z:function(){return M}});var r=t(85893),s=t(67294),i=t(56727),o=t(41782),a=t(69641),l=t(36388),c=t(37051),d=t(63233),u=t(24635),m=t(62435),f=t(5506),x=t(66430),h=t(91131),g=t(41664),p=t(41854),v=t(74855),j=t(40782),y=t(46249),b=t(96787),w=t(48137),N=t(66339),C=t(16573),k=t(1020),D=t(46616),F=t(87385),Z=t(38168),T=t(44276),A=t(12834),I=t(69275),S=t(20567),O=t(43101),z=t(96618);function L(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,s=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(l){s=!0,i=l}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function U(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}function E(){var e=L((0,h.KO)(O.r2),2),n=e[0],t=e[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.rs,{checked:n,onChange:t,className:U(n?"bg-indigo-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:[(0,r.jsx)("span",{className:"sr-only",children:"Use setting"}),(0,r.jsxs)("span",{className:U(n?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"),children:[(0,r.jsx)("span",{className:U(n?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:(0,r.jsx)("svg",{className:"h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 12 12",children:(0,r.jsx)("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,r.jsx)("span",{className:U(n?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:(0,r.jsx)(z.Z,{className:"text-indigo-800 h-3 w-3"})})]})]}),(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)("p",{className:"py-2 px-3 rounded-md items-center text-xs font-medium text-indigo-100",children:"Lightning"})})]})}function q(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,s=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(l){s=!0,i=l}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var V=[{name:"Dashboard",href:"/d/dashboard",icon:o.Z,current:!1},{name:"Messaging",href:"/d/chat",icon:a.Z,current:!1},{name:"Meet",href:"/d/meeting",icon:l.Z,current:!1},{name:"Live Docs",href:"/d/content",icon:c.Z,current:!0},{name:"Contacts",href:"/d/contacts",icon:d.Z,current:!1},{name:"Settings",href:"/d/settings",icon:u.Z,current:!1}];function B(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}var K=function(e){var n=e.myDid,t=q((0,h.KO)(b.D),2)[1],o=q((0,h.KO)(b.U),2),a=o[0],l=o[1];(0,s.useEffect)((function(){n&&(0,S.YH)(n.id).then((function(e){t(JSON.parse(e.data.document)),l(e.data.longFormDid)})).catch((function(e){console.log(e)}))}),[n,l,t]);var c="I want to share my Impervious contact with you!";return(0,r.jsxs)(i.v2,{as:"div",className:"relative inline-block text-left",children:[(0,r.jsx)("div",{children:(0,r.jsx)(i.v2.Button,{className:"order-0 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:order-1 sm:ml-3",children:"Share Contact"})}),(0,r.jsx)(i.uT,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsx)(i.v2.Items,{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,r.jsx)("div",{className:"py-1",children:(0,r.jsx)(i.v2.Item,{children:function(e){e.active;return(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,r.jsx)(v.CopyToClipboard,{text:a,onCopy:function(){return j.Am.info("Copied to clipboard! Share this document!")},children:(0,r.jsx)("button",{type:"button",className:"inline-flex items-center p-1 w-2/3 border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,r.jsx)(m.Z,{className:"h-5 w-5","aria-hidden":"true"})})}),(0,r.jsx)(w.Z,{subject:c,url:n,children:(0,r.jsx)(N.Z,{size:32,round:!0})}),(0,r.jsx)(C.Z,{url:n,quote:c,children:(0,r.jsx)(k.Z,{size:32,round:!0})}),(0,r.jsx)(D.Z,{url:n,title:c,children:(0,r.jsx)(F.Z,{size:32,round:!0})}),(0,r.jsx)(Z.Z,{url:n,title:c,children:(0,r.jsx)(T.Z,{size:32,round:!0})}),(0,r.jsx)(A.Z,{url:n,title:c,separator:":: ",children:(0,r.jsx)(I.Z,{size:32,round:!0})})]})}})})})})]})};function M(e){var n=e.children,t=e.currentPage,o=(0,s.useState)(!1),a=o[0],l=o[1],c=(0,s.useState)(!1),d=c[0],u=c[1],m=(0,y.LU)().data,h=function(e){return t===e};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"h-screen w-screen flex",children:[(0,r.jsx)("div",{className:"hidden w-28 bg-primary overflow-y-auto md:block",children:(0,r.jsxs)("div",{className:"w-full py-6 flex flex-col items-center h-full",children:[(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,r.jsx)("img",{src:"/imp-logo.svg",alt:"Impervious",height:"30",width:"30"})}),(0,r.jsx)("div",{className:"flex-1 mt-6 w-full px-2 space-y-1",children:V.map((function(e){return(0,r.jsx)(g.default,{href:e.href,passHref:!0,children:(0,r.jsxs)("a",{className:B(h(e.name)?"bg-violet-800 text-white":"text-indigo-100 hover:bg-primary-hover hover:text-white","group w-full p-3 rounded-md flex flex-col items-center text-xs font-medium"),"aria-current":e.current?"page":void 0,children:[(0,r.jsx)(e.icon,{className:B(h(e.name)?"text-white":"text-indigo-300 group-hover:text-white","h-6 w-6"),"aria-hidden":"true"}),(0,r.jsx)("span",{className:"mt-2",children:e.name})]})},e.name)}))}),(0,r.jsx)("div",{className:"self-end items-center flex flex-col w-full",children:(0,r.jsx)(E,{})})]})}),(0,r.jsx)(i.uT.Root,{show:a,as:s.Fragment,children:(0,r.jsx)(i.Vq,{as:"div",className:"md:hidden",onClose:l,children:(0,r.jsxs)("div",{className:"fixed inset-0 z-40 flex",children:[(0,r.jsx)(i.uT.Child,{as:s.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(i.Vq.Overlay,{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),(0,r.jsx)(i.uT.Child,{as:s.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,r.jsxs)("div",{className:"relative max-w-xs w-full bg-primary pt-5 pb-4 flex-1 flex flex-col",children:[(0,r.jsx)(i.uT.Child,{as:s.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"absolute top-1 right-0 -mr-14 p-1",children:(0,r.jsxs)("button",{type:"button",className:"h-12 w-12 rounded-full flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-white",onClick:function(){return l(!1)},children:[(0,r.jsx)(f.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"}),(0,r.jsx)("span",{className:"sr-only",children:"Close sidebar"})]})})}),(0,r.jsx)("div",{className:"flex-shrink-0 px-4 flex items-center",children:(0,r.jsx)("img",{src:"/imp-logo.svg",alt:"Impervious",height:"30",width:"30"})}),(0,r.jsx)("div",{className:"mt-5 flex-1 h-0 px-2 overflow-y-auto",children:(0,r.jsx)("nav",{className:"h-full flex flex-col",children:(0,r.jsx)("div",{className:"space-y-1",children:V.map((function(e){return(0,r.jsxs)("a",{href:e.href,className:B(h(e.name)?"bg-violet-800 text-white":"text-indigo-100 hover:bg-primary-hover hover:text-white","group py-2 px-3 rounded-md flex items-center text-sm font-medium"),"aria-current":e.current?"page":void 0,children:[(0,r.jsx)(e.icon,{className:B(h(e.name)?"text-white":"text-indigo-300 group-hover:text-white","mr-3 h-6 w-6"),"aria-hidden":"true"}),(0,r.jsx)("span",{children:e.name})]},e.name)}))})})})]})}),(0,r.jsx)("div",{className:"flex-shrink-0 w-14","aria-hidden":"true"})]})})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden z-10",children:[(0,r.jsx)(p.Z,{open:d,setOpen:u,existingContact:null}),(0,r.jsx)("header",{className:"w-full",children:(0,r.jsxs)("div",{className:"relative z-10 flex-shrink-0 h-16 bg-white border-b border-gray-200 shadow-sm flex",children:[(0,r.jsxs)("button",{type:"button",className:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden",onClick:function(){return l(!0)},children:[(0,r.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,r.jsx)(x.Z,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,r.jsxs)("div",{className:"flex-1 flex justify-between px-4 sm:px-6",children:[(0,r.jsx)("div",{className:"flex-1 flex items-center space-x-4",children:(0,r.jsx)("h2",{className:"font-semibold text-primary text-lg",children:t})}),(0,r.jsxs)("div",{className:"ml-2 flex items-center space-x-4 sm:ml-6 sm:space-x-6",children:[(0,r.jsx)("button",{type:"button",className:"order-1 ml-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:order-0 sm:ml-0",children:"Share Browser"}),(0,r.jsx)("button",{type:"button",onClick:function(){return u(!0)},className:"order-0 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:order-1 sm:ml-3",children:"Add Contact"}),(0,r.jsx)("div",{className:"pr-6",children:(0,r.jsx)(K,{myDid:m})})]})]})]})}),(0,r.jsx)("div",{className:"flex-1 flex items-stretch overflow-hidden",children:(0,r.jsx)("main",{className:"flex-1 overflow-y-auto",children:n})})]})]})})}},41854:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(85893),s=t(67294),i=t(56727),o=t(5506),a=t(40782),l=t(6218),c=t(46249),d=t(20567);function u(e){var n=e.open,t=e.setOpen,u=e.existingContact,m=(0,s.useState)(""),f=m[0],x=m[1],h=(0,s.useState)(""),g=h[0],p=h[1],v=function(){a.Am.success("Contact successfully deleted!")},j=function(e){a.Am.error("Failed to delete contact. Please try again."),console.log("Failed to delete contact. Error: ",e)},y=(0,c.LU)().data,b=(0,l.jK)().mutate,w=(0,l.jO)().mutate,N=(0,l.ZK)().mutate;return(0,r.jsx)(i.uT.Root,{show:n,as:s.Fragment,children:(0,r.jsx)(i.Vq,{as:"div",className:"absolute fixed overflow-hidden z-10",onClose:t,children:(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsx)(i.Vq.Overlay,{className:"absolute inset-0"}),(0,r.jsx)("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16",children:(0,r.jsx)(i.uT.Child,{as:s.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,r.jsx)("div",{className:"pointer-events-auto w-screen max-w-md",children:(0,r.jsxs)("form",{className:"flex h-full flex-col divide-y divide-gray-200 bg-white shadow-xl",children:[(0,r.jsxs)("div",{className:"h-0 flex-1 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"bg-primary py-6 px-4 sm:px-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(i.Vq.Title,{className:"text-lg font-medium text-white",children:[" ","Add or Update Contact"," ",u&&"- ".concat(u.name)]}),(0,r.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,r.jsxs)("button",{type:"button",className:"rounded-md bg-indigo-700 text-indigo-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:function(){return t(!1)},children:[(0,r.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,r.jsx)(o.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("p",{className:"text-sm text-indigo-300",children:"Add or update an existing contact in the form below."})})]}),(0,r.jsx)("div",{className:"flex flex-1 flex-col justify-between",children:(0,r.jsx)("div",{className:"divide-y divide-gray-200 px-4 sm:px-6",children:(0,r.jsxs)("div",{className:"space-y-6 pt-6 pb-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"project-name",className:"block text-md font-medium text-gray-900",children:[" ","Name"," "]}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"name",defaultValue:u?u.name:"",onChange:function(e){return x(e.target.value)},id:"name",className:"block w-full border rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-md font-medium text-gray-900",children:"Paste Contact/Long Form Did"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("textarea",{id:"didDocument",name:"didDocument",onChange:function(e){return p(e.target.value)},rows:4,className:"block w-full rounded-md border-2 border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})})]})]})})})]}),(0,r.jsxs)("div",{className:"flex flex-shrink-0 justify-end px-4 py-4",children:[u&&(0,r.jsx)("button",{type:"button",className:"rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-red-700 shadow-sm hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",onClick:function(){(0,a.Am)((function(e){var n=e.closeToast;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"pb-4",children:"Delete this contact?"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){u&&w(u.id,{onSuccess:v,onError:j}),n()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Delete"}),(0,r.jsx)("button",{type:"button",onClick:n,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})}),{autoClose:!1})},children:"Delete"}),(0,r.jsx)("button",{type:"button",className:"ml-4 rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:function(){return t(!1)},children:"Cancel"}),(0,r.jsx)("button",{type:"submit",onClick:function(e){return function(e){e.preventDefault();var n=g.split(/[\s]+/).find((function(e){return e.includes("did:")}));n?u?n.split("?")[0]===u.did?(N({name:f,existingContact:u,longFormDid:n}),t(!1)):a.Am.error("DID ID does not match this contact's ID. Please supply a correct DID or create a new contact for this DID."):(0,d.YH)(n).then((function(e){console.log(e),b({didDocument:JSON.parse(e.data.document),name:f,myDid:y}),t(!1)})).catch((function(e){a.Am.error("Unable to parse DID. Check formatting and try again. Long Form DID expected."),console.log(e)})):a.Am.error("Unable to parse DID. Check formatting and try again.")}(e)},className:"ml-4 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:u?"Update":"Add"})]})]})})})})]})})})}},96787:function(e,n,t){t.d(n,{D:function(){return s},U:function(){return i}});var r=t(91131),s=(0,r.cn)(),i=(0,r.cn)()}}]);