(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{3402:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/d/settings",function(){return n(8517)}])},8517:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J}});var r=n(85893),o=n(67294),s=n(77082),i=n(24634),a=n(71722),l=n(94323),c=n(13471),d=n(6828),u=n(91131),m=n(31806),x=n(24796),g=n(20567),h=n(46249),f=n(30381),p=n.n(f),y=n(74855),b=n(40782),v=n(44156),j=n(35666),N=n.n(j),w=n(9669),C=n.n(w),S=n(81354),k=n.n(S),P=n(48764).Buffer;function T(e,t,n,r,o,s,i){try{var a=e[s](i),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function i(e){T(s,r,o,i,a,"next",e)}function a(e){T(s,r,o,i,a,"throw",e)}i(void 0)}))}}var L=A(N().mark((function e(t,n,r){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(A(N().mark((function e(o,s){var i,a,l,c,d,u,m,x,g,h,f,p,y,b,v,j,w,C,S;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Creating your node...",n),i={"X-VOLTAGE-AUTH":t,"Access-Control-Allow-Origin":"true"},c={network:"testnet",purchased_type:"ondemand",type:"standard",name:n,settings:{alias:n,autocompaction:!1,autopilot:!1,color:"#EF820D",grpc:!0,keysend:!0,rest:!0,whitelist:["1.2.3.4"],wumbo:!0}},e.next=8,_("POST","https://api.voltage.cloud/node/create",c,i);case 8:d=e.sent,u=d.node_id,m=d.api_endpoint,console.log("Created the node: "+u);case 12:return x={node_id:u},e.next=15,_("POST","https://api.voltage.cloud/node",x,i);case 15:return g=e.sent,l=g.status,a=g.api_endpoint,console.log("Found node's status of "+l),e.next=21,new Promise((function(e){return setTimeout(e,5e3)}));case 21:if("waiting_init"!==l){e.next=12;break}case 22:return e.next=24,_("GET","https://"+a+":8080/v1/genseed",{},{});case 24:return d=e.sent,h=d.cipher_seed_mnemonic,console.log("Got seed phrase: "+h),console.log("Initializing wallet with password: "+r),f={wallet_password:P.from(r).toString("base64"),cipher_seed_mnemonic:h,stateless_init:!0},e.next=31,_("POST","https://"+a+":8080/v1/initwallet",f,{});case 31:return d=e.sent,p=d.admin_macaroon,console.log("Got Node's Macaroon: "+p),y=k().AES.encrypt(P.from(h.join(",")).toString("base64"),r).toString(),b=k().AES.encrypt(p,r).toString(),v={node_id:u,macaroon:b,name:"admin"},e.next=39,_("POST","https://api.voltage.cloud/node/macaroon",v,i);case 39:return d=e.sent,console.log("Uploaded macaroon"),j={node_id:u,seed:y},e.next=44,_("POST","https://api.voltage.cloud/node/upload_seed",j,i);case 44:return d=e.sent,console.log("Uploaded seed"),console.log("Successfully created your node!"),w=k().enc.Base64.parse(p).toString(k().enc.Hex),console.log("Grabbing the TLS cert for newly created node."),C={node_id:u},e.next=52,_("POST","https://api.voltage.cloud/node/cert",C,i);case 52:d=e.sent,S=k().enc.Base64.parse(d.tls_cert).toString(k().enc.Hex),o({nodeName:n,apiEndpoint:m,hexMacaroon:w,tlsCert:S}),e.next=61;break;case 57:e.prev=57,e.t0=e.catch(0),console.log("Unable to create your node: ",e.t0),s(e.t0);case 61:case"end":return e.stop()}}),e,null,[[0,57]])})))));case 1:case"end":return e.stop()}}),e)}))),_=function(e,t,n,r){return new Promise((function(o,s){C()({method:e,url:t,headers:r,data:n}).then((function(e){var t=e.data;o(t)})).catch((function(e){console.log(e),s(e)}))}))},E=n(58057),F=n(68163),O=n(33772),I=n(56727),M=n(91013),D=n(63205);function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var U=function(e){var t=e.selected,n=e.setSelected;return(0,r.jsx)(I.Ri,{value:t,onChange:n,children:function(e){var n=e.open;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.Ri.Label,{className:"block text-sm font-medium text-gray-700",children:"Select Your Relay"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[(0,r.jsxs)(I.Ri.Button,{className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,r.jsx)("span",{className:"block truncate",children:t}),(0,r.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,r.jsx)(M.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),(0,r.jsx)(I.uT,{show:n,as:o.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(I.Ri.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:D.Q8.map((function(e,t){return(0,r.jsx)(I.Ri.Option,{className:function(e){return R(e.active?"text-white bg-primary":"text-gray-900","cursor-default select-none relative py-2 pl-8 pr-4")},value:e,children:function(t){var n=t.selected,o=t.active;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:R(n?"font-semibold":"font-normal","block truncate"),children:e}),n?(0,r.jsx)("span",{className:R(o?"text-white":"text-indigo-600","absolute inset-y-0 left-0 flex items-center pl-1.5"),children:(0,r.jsx)(E.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},t)}))})})]})]})}})},V=n(96787),H=n(37328);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(o)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Z=function(){var e=(0,v.r)().data,t=(0,h.LU)().data,n=(0,v.V)().mutate,s=(0,h.d3)().mutate,i=z((0,u.KO)(V.D),1)[0],a=(0,o.useState)(""),l=a[0],c=a[1],d=(0,o.useState)(""),m=d[0],x=d[1],g=(0,o.useState)(""),f=g[0],j=g[1],N=(0,o.useState)(!1),w=N[0],C=N[1],S=(0,o.useState)(D.Q8[0]),k=S[0],P=S[1],T=(0,o.useState)(!1),A=T[0],_=T[1],I=(0,o.useState)(""),M=I[0],R=I[1],Z=(0,o.useState)(""),K=Z[0],B=Z[1],G=(0,o.useState)(""),Y=G[0],Q=G[1],X=(0,o.useState)(!1),J=X[0],q=X[1],W=(0,o.useState)(!1),$=W[0],ee=W[1],te=(0,o.useState)(!1),ne=te[0],re=te[1],oe=(0,o.useState)(""),se=oe[0],ie=oe[1],ae=(0,o.useState)(""),le=ae[0],ce=ae[1],de=(0,o.useState)(""),ue=de[0],me=de[1],xe=(0,o.useState)(""),ge=xe[0],he=xe[1],fe=(0,o.useState)(""),pe=fe[0],ye=fe[1],be=(0,o.useState)(""),ve=be[0],je=be[1],Ne=(0,o.useState)(""),we=Ne[0],Ce=Ne[1],Se=(0,o.useState)(!0),ke=Se[0],Pe=Se[1],Te=(0,o.useState)(!0),Ae=Te[0],Le=Te[1],_e=function(){ee(!1),re(!1),x(""),c(""),j(""),Q("")},Ee=function(){return se&&le&&ue&&(pe||we)&&(ge||ve)},Fe=function(){console.log("Updating lightning configuration ..."),Ee?(n({config:{ip:se,port:le,pubkey:ue,tlsCert:ke?pe:"",tlsCertHex:ke?"":we,adminMacaroon:Ae?ge:"",adminMacaroonHex:Ae?"":ve,listening:!0}}),_(!A),C(!0)):b.Am.error("Unable to update lightning configuration. Missing required fields.")},Oe=function(){var e=i.service,n=e.findIndex((function(e){return e.serviceEndpoint.includes("lightning:")}));n>-1&&e.splice(n,1);ue.length>0&&function(t){var n=e.length,r={id:"#DidCommMessaging-".concat(n>0?n+1:1),priority:n,recipientKeys:[],routingKeys:[],serviceEndpoint:t,type:"DidCommMessaging"};e.push(r)}("lightning:".concat(ue));var r=t;r.service=e,s(JSON.stringify(r)),ie(""),ce(""),me(""),ye(""),Ce(""),je(""),he(""),C(!1)};return(0,r.jsxs)("div",{className:"max-w-3xl mx-auto py-10 px-4 sm:px-6 lg:py-12 lg:px-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-blue-gray-900",children:"Relay & Lightning"}),(0,r.jsxs)("form",{className:"mt-6 space-y-8 divide-y divide-y-blue-gray-200",children:[(0,r.jsxs)("div",{className:"pt-8 grid grid-cols-1 gap-y-6 sm:grid-cols-6 sm:gap-x-6",children:[(0,r.jsxs)("div",{className:"sm:col-span-6 space-y-3",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Manage Your Relay"}),(0,r.jsx)("div",{className:"space-y-3",children:(0,r.jsx)(U,{selected:k,setSelected:P})}),(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Register with Relay"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-gray-500",children:"Register with the relay after you have selected a new relay, or routintely to ensure access to the relay."}),(0,r.jsx)("button",{type:"button",onClick:function(){(0,H.Ws)(k).then((function(){return b.Am.info("Registered with relay.")})).catch((function(e){b.Am.error("Unable to register with relay."),console.log(e)}))},className:"mt-3 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Register"}),(0,r.jsx)("div",{className:"relative py-6",children:(0,r.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-300"})})})]}),(0,r.jsxs)("div",{className:"sm:col-span-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Manage Your Lightning Node"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-gray-500",children:"This information will be displayed publicly so be careful what you share."}),(null===e||void 0===e?void 0:e.data.lightningConfig.listening)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-gray-500",children:"A lightning node is current configured to listen."}),(0,r.jsxs)("p",{className:"mt-1 text-sm font-semibold text-blue-gray-500",children:["Existing LN Pubkey: ",null===e||void 0===e?void 0:e.data.lightningConfig.pubkey]}),JSON.stringify(t.service).includes(null===e||void 0===e?void 0:e.data.lightningConfig.pubkey)&&(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-gray-500",children:"This node is already listed in your did."})]}),(0,r.jsx)("button",{type:"button",onClick:function(){return _(!A)},className:"mt-3 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Update Lightning Settings"}),A&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-3 py-4",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Build a Lightning Node"}),(0,r.jsx)("p",{className:"mt-1 mb-2 text-sm text-blue-gray-500",children:"Don't have a lightning node already? Impervious supports creating a Voltage Lightning Node via the Voltage API. To get started, supply a Voltage API Key and Node Password and we will handle the rest."}),(0,r.jsx)("a",{href:"https://voltage.cloud/",className:"text-sm text-primary",children:"Head over to voltage.cloud if you do not have an API key."}),$&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(E.Z,{className:"h-5 w-5 text-green-400","aria-hidden":"true"}),(0,r.jsx)("p",{className:"mt-1 text-md font-semibold text-gray-800",children:"Voltage Node Created!"})]}),(0,r.jsxs)("div",{className:"w-full break-words",children:[(0,r.jsxs)("p",{children:["Your Voltage Node has been created. The following is your Voltage Node Configuration Information, use these values to update your Lightning Configuration. Click the values below to copy to clipboard."," "]}),(0,r.jsx)(y.CopyToClipboard,{text:m,onCopy:function(){return b.Am.success("Seed Copied")},children:(0,r.jsxs)("p",{className:"my-2",children:[(0,r.jsx)("b",{children:"Voltage Node Name: (Click to Copy)"})," ",m]})}),(0,r.jsx)(y.CopyToClipboard,{text:f,onCopy:function(){return b.Am.success("Seed Copied")},children:(0,r.jsxs)("p",{className:"my-2",children:[(0,r.jsx)("b",{children:"Voltage Endpoint: (Click to Copy)"})," ",f]})}),(0,r.jsx)(y.CopyToClipboard,{text:l,onCopy:function(){return b.Am.success("Macaroon Copied!")},children:(0,r.jsxs)("p",{className:"my-2",children:[(0,r.jsx)("b",{children:"Admin Macaroon (Hex): (Click to Copy)"})," ",l]})}),(0,r.jsx)(y.CopyToClipboard,{text:Y,onCopy:function(){return b.Am.success("Macaroon Copied!")},children:(0,r.jsxs)("p",{className:"my-2",children:[(0,r.jsx)("b",{children:"TLS Cert (Hex): (Click to Copy)"})," ","".concat(Y.substring(0,100),"............").concat(Y.slice(-100))]})}),(0,r.jsx)("button",{type:"button",onClick:function(){return _e()},className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Good to go. Clear values."})]})]}),ne&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(F.Z,{className:"h-5 w-5 text-red-400","aria-hidden":"true"}),(0,r.jsx)("p",{className:"mt-1 text-md font-semibold text-gray-800",children:"Error occured while creating voltage node."})]})}),J?(0,r.jsx)("div",{children:"Creating Voltage Node ..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700",children:"Supply Voltage API Key"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"endpoint",id:"endpoint",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Voltage API Key",value:M,onChange:function(e){return R(e.target.value)}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700",children:"Supply Voltage Node Password"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"password",name:"nodePassword",id:"nodePassword",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Password",value:K,onChange:function(e){return B(e.target.value)}})})]}),K&&M&&(0,r.jsx)("button",{type:"button",onClick:function(){return function(){q(!0),_e();var e="impervious-node-".concat(p()().unix());L(M,e,K).then((function(e){var t=e.nodeName,n=e.apiEndpoint,r=e.hexMacaroon,o=e.tlsCert;q(!1),ee(!0),console.log("NODE CREATED"),c(r),j(n),x(t),Q(o),Pe(!1),Le(!1),ie(n),ce("10009"),je(r),setTlsCertHex(o)})).catch((function(e){q(!1),re(!0),console.log("NODE CREATION FAILED: ",e)}))}()},className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create a Voltage Lightning Node"})]})]}),(0,r.jsxs)("div",{className:"space-y-3 py-4",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Import a Lightning Node"}),(0,r.jsx)("p",{className:"mt-1 mb-2 text-sm text-blue-gray-500",children:"If you already have a running lightning node, or just created one above, enter the configuration information below and Impervious will configure itself to use the given lightning node. Note: This restart the Impervious daemon services and the application will experience a reboot."}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ip",className:"block text-sm font-medium text-gray-700",children:"Supply Lightning Endpoint Address"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"ip",id:"ip",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"IP or URI (i.e. xxxxx.t.voltageapp.io)",value:se,onChange:function(e){return ie(e.target.value)}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"port",className:"block text-sm font-medium text-gray-700",children:"Supply Lightning Port (GRPC)"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"port",id:"port",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Port",value:le,onChange:function(e){return ce(e.target.value)}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"pubkey",className:"block text-sm font-medium text-gray-700",children:"Supply Lightning Pubkey (leave blank if it is a Voltage node)"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"pubkey",id:"pubkey",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Pubkey",value:ue,onChange:function(e){return me(e.target.value)}})})]}),(0,r.jsxs)("span",{className:"relative z-0 inline-flex shadow-sm rounded-md",children:[(0,r.jsx)("button",{type:"button",onClick:function(){return Pe(!0)},className:"relative inline-flex items-center px-4 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Use TLS Filepath"}),(0,r.jsx)("button",{type:"button",onClick:function(){return Pe(!1)},className:"-ml-px relative inline-flex items-center px-4 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Use TLS Hex String"})]}),ke?(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"tls",className:"block text-sm font-medium text-gray-700",children:"Supply File Path to Lightning TLS Cert"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"tls",id:"tls",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Provide full path to TLS Cert",value:pe,onChange:function(e){return ye(e.target.value)}})})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"tls",className:"block text-sm font-medium text-gray-700",children:"Supply Lightning TLS Cert (Hex String)"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"tls",id:"tls",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"TLS Cert (Hex)",value:we,onChange:function(e){return Ce(e.target.value)}})})]}),(0,r.jsxs)("span",{className:"relative z-0 inline-flex shadow-sm rounded-md",children:[(0,r.jsx)("button",{type:"button",onClick:function(){return Le(!0)},className:"relative inline-flex items-center px-4 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Use Macaroon Filepath"}),(0,r.jsx)("button",{type:"button",onClick:function(){return Le(!1)},className:"-ml-px relative inline-flex items-center px-4 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Use Macaroon Hex String"})]}),Ae?(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"macaroon",className:"block text-sm font-medium text-gray-700",children:"Supply File Path to Admin Macaroon"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"macaroon",id:"macaroon",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Provide full path to Admin Macaroon",value:ge,onChange:function(e){return he(e.target.value)}})})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"macaroon",className:"block text-sm font-medium text-gray-700",children:"Supply Admin Macaroon (Hex String)"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"macaroon",id:"macaroon",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Macaroon (Hex)",value:ve,onChange:function(e){return je(e.target.value)}})})]}),(0,r.jsx)("button",{type:"button",onClick:function(){return Fe()},className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Update Lightning Configuration"})]})]})]})]}),w&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"rounded-md bg-yellow-50 p-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(O.Z,{className:"h-5 w-5 text-yellow-400","aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Change detected! Do you want to update your DID?"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,r.jsxs)("p",{children:["Since you have changed your connection endpoints (relay or lightning), if you want users to be able to contact you over these channels you will need to"," ",(0,r.jsx)("b",{children:"update your did"}),". Click the button below to update your did."]})})]})]})}),(0,r.jsxs)("div",{className:"pt-8 flex justify-end",children:[(0,r.jsx)("button",{type:"button",onClick:function(){return C(!1)},className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-blue-gray-900 hover:bg-blue-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Do Not Update"}),(0,r.jsx)("button",{type:"button",onClick:function(){(0,b.Am)((function(e){var t=e.closeToast;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Are you sure you want to update your DID?"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){Oe(),t()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Confirm"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})}),{autoClose:!1})},className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Update DID"})]})]})]})]})};function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){K(e,t,n[t])}))}return e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(o)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Y=[{name:"Relay & Lightning",description:"Manage your relay node.",href:"#",icon:s.Z,current:!1},{name:"Identity",description:"Manage your decentralized settings",href:"#",icon:i.Z,current:!1}];function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var X=function(){var e=(0,o.useState)(!1),t=e[0],n=e[1],s=(0,o.useState)({}),i=s[0],l=s[1],c=G((0,u.KO)(m.o),2),f=c[0],p=c[1],y=(0,h.LU)().data,b=(0,o.useState)(""),v=b[0],j=b[1];(0,o.useEffect)((function(){y&&(0,g.YH)(y.id).then((function(e){j(e.data.longFormDid)})).catch((function(e){console.log(e)}))}),[y]),(0,o.useEffect)((function(){l(f)}),[f]);return(0,r.jsxs)("div",{className:"max-w-3xl mx-auto py-10 px-4 sm:px-6 lg:py-12 lg:px-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-blue-gray-900",children:"Identity"}),(0,r.jsxs)("form",{className:"mt-6 space-y-8 divide-y divide-y-blue-gray-200",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-y-6 sm:grid-cols-6 sm:gap-x-6",children:[(0,r.jsxs)("div",{className:"sm:col-span-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Profile"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-gray-500",children:"Manage your decentalized identity from this section."})]}),(0,r.jsxs)("div",{className:"sm:col-span-6",children:[(0,r.jsx)("label",{htmlFor:"photo",className:"block text-sm font-medium text-blue-gray-900",children:"Photo"}),(0,r.jsx)("div",{className:"pb-12 flex flex-col items-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(d.nQ,B({},i,{className:"h-32 w-full object-cover lg:h-48"})),(0,r.jsx)("button",{type:"button",onClick:function(){return n(!0),void l(B({},(0,x.nS)()))},className:"pt-2",children:(0,r.jsx)(a.Z,{className:"-ml-1 mr-2 h-6 w-6 text-gray-900","aria-hidden":"true"})}),t&&(0,r.jsxs)("div",{className:"flex space-x-2 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){return n(!1),void l(f)},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,r.jsx)("button",{type:"button",onClick:function(){return p(i),void n(!1)},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save"})]})]})})]}),(0,r.jsxs)("div",{className:"sm:col-span-6",children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-blue-gray-900",children:"Decentralized Identifier"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("textarea",{id:"description",name:"description",disabled:!0,rows:4,className:"block w-full border border-blue-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-primary focus:border-blue-500",defaultValue:v})}),(0,r.jsx)("p",{className:"mt-3 text-sm text-blue-gray-500",children:"This is the long form decentralized identity that you share with your connections."})]})]}),(0,r.jsxs)("div",{className:"pt-8 flex justify-end",children:[(0,r.jsx)("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-blue-gray-900 hover:bg-blue-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Cancel"}),(0,r.jsx)("button",{type:"button",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Save"})]})]})]})};function J(){var e=(0,o.useState)("Relay & Lightning"),t=e[0],n=e[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.Z,{currentPage:"Settings",children:(0,r.jsx)("main",{className:"flex-1 flex overflow-hidden h-full",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-y-auto xl:overflow-hidden",children:[(0,r.jsx)("nav",{"aria-label":"Breadcrumb",className:"bg-white border-b border-blue-gray-200 xl:hidden",children:(0,r.jsx)("div",{className:"max-w-3xl mx-auto py-3 px-4 flex items-start sm:px-6 lg:px-8",children:(0,r.jsxs)("a",{href:"#",className:"-ml-1 inline-flex items-center space-x-3 text-sm font-medium text-blue-gray-900",children:[(0,r.jsx)(l.Z,{className:"h-5 w-5 text-blue-gray-400","aria-hidden":"true"}),(0,r.jsx)("span",{children:"Settings"})]})})}),(0,r.jsxs)("div",{className:"flex-1 flex xl:overflow-hidden",children:[(0,r.jsx)("nav",{"aria-label":"Sections",className:"hidden flex-shrink-0 w-96 bg-white border-r border-blue-gray-200 xl:flex xl:flex-col",children:(0,r.jsx)("div",{className:"flex-1 min-h-0 overflow-y-auto",children:Y.map((function(e){return(0,r.jsxs)("div",{onClick:function(){return n(e.name)},className:Q(e.current?"bg-blue-50 bg-opacity-50":"hover:bg-blue-50 hover:bg-opacity-50","flex p-6 border-b border-blue-gray-200"),"aria-current":e.current?"page":void 0,children:[(0,r.jsx)(e.icon,{className:"flex-shrink-0 -mt-0.5 h-6 w-6 text-blue-gray-400","aria-hidden":"true"}),(0,r.jsxs)("div",{className:"ml-3 text-sm",children:[(0,r.jsx)("p",{className:"font-medium text-blue-gray-900",children:e.name}),(0,r.jsx)("p",{className:"mt-1 text-blue-gray-500",children:e.description})]})]},e.name)}))})}),(0,r.jsxs)("div",{className:"flex-1 xl:overflow-y-auto",children:["Relay & Lightning"===t&&(0,r.jsx)(Z,{}),"Identity"===t&&(0,r.jsx)(X,{})]})]})]})})})})}},42480:function(){}},function(e){e.O(0,[270,771,749,471,774,888,179],(function(){return t=3402,e(e.s=t);var t}));var t=e.O();_N_E=t}]);