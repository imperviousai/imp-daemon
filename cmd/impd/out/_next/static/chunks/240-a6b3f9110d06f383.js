"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{11240:function(e,n,t){t.d(n,{Z:function(){return de}});var r=t(35666),i=t.n(r),s=t(85893),o=t(67294),a=t(56727),l=t(41782),c=t(69641),d=t(36388),u=t(37051),m=t(63233),f=t(24635),x=t(62435),h=t(5506),g=t(66430),p=t(88100),v=t(91131),b=t(41664),y=t(77358),j=t(24955),w=t.n(j),N=t(41854),D=t(74855),k=t(40782),C=t(42986),I=t(96787),F=t(34220),U=t(48137),T=t(66339),A=t(16573),Z=t(1020),O=t(46616),S=t(87385),L=t(38168),$=t(44276),E=t(12834),z=t(69275),P=t(20567),q=t(6218),K=t(43101),_=t(96618);function B(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(l){i=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function M(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}function V(){var e=B((0,v.KO)(K.r2),2),n=e[0],t=e[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.rs,{checked:n,onChange:t,className:M(n?"bg-indigo-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:[(0,s.jsx)("span",{className:"sr-only",children:"Use setting"}),(0,s.jsxs)("span",{className:M(n?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"),children:[(0,s.jsx)("span",{className:M(n?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:(0,s.jsx)("svg",{className:"h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 12 12",children:(0,s.jsx)("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,s.jsx)("span",{className:M(n?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:(0,s.jsx)(_.Z,{className:"text-indigo-800 h-3 w-3"})})]})]}),(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("p",{className:"py-2 px-3 rounded-md items-center text-xs font-medium text-indigo-100",children:"Lightning"})})]})}var H=t(17139),J=t(73935);function R(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function X(e){var n=(0,o.useRef)(null);return(0,o.useEffect)((function(){if(n.current){var t=(0,H.H)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){R(e,n,t[n])}))}return e}({container:n.current,renderer:{createElement:o.createElement,Fragment:o.Fragment,render:J.render}},e));return function(){t.destroy()}}}),[e]),(0,s.jsx)("div",{ref:n})}var Y=t(24796),W=t(88574);function Q(e){var n=e.item,t=e.saveContactConfirm;return(0,s.jsxs)("div",{className:"flex space-x-4 items-center w-full px-4",children:[(0,s.jsx)("button",{type:"button",onClick:function(){return t(n)},className:"inline-flex justify-self-end items-center rounded-full border border-transparent bg-blue-400 p-2 text-blue-400 shadow-sm hover:bg-blue-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:(0,s.jsx)(W.Z,{className:"h-8 w-8","aria-hidden":"true"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("img",{className:"inline-block h-8 w-8 rounded-full",src:n.avatarUrl,alt:""}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("p",{className:"text-lg text-gray-900",children:n.name}),(0,s.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"https://twitter.com/".concat(n.twitterUsername),className:"text-sm text-blue-400",children:["@",n.twitterUsername]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:n.shortFormDid})]})]})]})}var G=t(60949),ee=t(73359),ne=t(50319),te=t(31230);function re(e,n,t,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(r,i)}function ie(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(l){i=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var se=[{name:"Dashboard",href:"/d/dashboard",icon:l.Z,current:!1},{name:"Messaging",href:"/d/chat",icon:c.Z,current:!1},{name:"Meet",href:"/d/meeting",icon:d.Z,current:!1},{name:"Live Docs",href:"/d/content",icon:u.Z,current:!0},{name:"Contacts",href:"/d/contacts",icon:m.Z,current:!1},{name:"Settings",href:"/d/settings",icon:f.Z,current:!1}];function oe(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}var ae=function(e){var n=e.myDid,t=ie((0,v.KO)(I.Dm),2)[1],r=ie((0,v.KO)(I.UX),2),i=r[0],l=r[1];(0,o.useEffect)((function(){n&&(0,P.YH)(n.id).then((function(e){t(JSON.parse(e.data.document)),l(e.data.longFormDid)})).catch((function(e){console.log(e)}))}),[n,l,t]);var c="I want to share my Impervious contact with you!";return(0,s.jsxs)(a.v2,{as:"div",className:"relative inline-block text-left",children:[(0,s.jsx)("div",{children:(0,s.jsx)(a.v2.Button,{className:"order-0 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:order-1 sm:ml-3",children:"Share Contact"})}),(0,s.jsx)(a.uT,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,s.jsx)(a.v2.Items,{className:"z-10 origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,s.jsx)("div",{className:"py-1",children:(0,s.jsx)(a.v2.Item,{children:function(e){e.active;return(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-2 p-4",children:[(0,s.jsx)(D.CopyToClipboard,{text:i,onCopy:function(){return k.Am.info("Copied to clipboard! Share this document!")},children:(0,s.jsx)("button",{type:"button",className:"inline-flex items-center p-1 w-2/3 border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,s.jsx)(x.Z,{className:"h-5 w-5","aria-hidden":"true"})})}),(0,s.jsx)(U.Z,{subject:c,url:n,children:(0,s.jsx)(T.Z,{size:32,round:!0})}),(0,s.jsx)(A.Z,{url:n,quote:c,children:(0,s.jsx)(Z.Z,{size:32,round:!0})}),(0,s.jsx)(O.Z,{url:n,title:c,children:(0,s.jsx)(S.Z,{size:32,round:!0})}),(0,s.jsx)(L.Z,{url:n,title:c,children:(0,s.jsx)($.Z,{size:32,round:!0})}),(0,s.jsx)(E.Z,{url:n,title:c,separator:":: ",children:(0,s.jsx)(z.Z,{size:32,round:!0})})]})}})})})})]})},le=function(){var e=(0,p.D3)(),n=e.user,t=e.logout,r="";r=window.location.origin;return(0,s.jsxs)(a.v2,{as:"div",className:"relative inline-block text-left",children:[(0,s.jsx)("div",{children:(0,s.jsxs)(a.v2.Button,{className:"flex items-center rounded-full bg-gray-100 text-gray-400 hover:text-gray-600",children:[(0,s.jsx)("span",{className:"sr-only",children:"Open options"}),n&&(0,s.jsx)("img",{className:"inline-block h-8 w-8 rounded-full",src:n.picture,alt:""})]})}),(0,s.jsx)(a.uT,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,s.jsx)(a.v2.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center border-b border-b-2 border-gray-400 pb-2 ",children:[(0,s.jsx)("p",{className:"text-sm text-gray-700",children:"Logged in as:"}),(0,s.jsxs)("a",{href:"https://twitter.com/".concat(n.nickname),rel:"noreferrer",target:"_blank",className:"text-sm text-blue-500",children:["@",n.nickname]})]}),(0,s.jsx)(a.v2.Item,{children:function(e){var n=e.active;return(0,s.jsx)("button",{type:"submit",onClick:function(){return function(e){return e.state,t({returnTo:r})}({state:"Identity"})},className:oe(n?"bg-gray-100 text-gray-900":"text-gray-700","block w-full px-4 py-2 text-left text-sm text-center"),children:"Sign out"})}})]})})})]})},ce=function(){var e=ie((0,v.KO)(F.lA),2)[1],n=(0,C.LU)().data,t=ie((0,v.KO)(I.UX),1)[0],r=ie((0,v.KO)(I._$),2)[1],a=(0,p.D3)(),l=a.user,c=a.isAuthenticated,d=a.getAccessTokenSilently,u=a.loginWithPopup,m=(0,C.hb)().mutate,f=(0,C.fL)().data,x=ie((0,ee.t)(Y.bk),2),h=x[0],g=x[1],b=g.data;g.loading,g.error;(0,o.useEffect)((function(){var e,n;(null===b||void 0===b||null===(e=b.listDIDS)||void 0===e||null===(n=e.items)||void 0===n?void 0:n.length)>0?r(b.listDIDS.items[0]):r("")}),[b,r]),(0,o.useEffect)((function(){var n;(n=i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!l){n.next=9;break}return n.next=3,d();case 3:return t=n.sent,e(t),n.next=7,m({key:"currentRegistryUser",value:JSON.stringify(l)});case 7:h({variables:{twitterUsername:null===l||void 0===l?void 0:l.nickname}}),(null===l||void 0===l?void 0:l.nickname)!==(null===f||void 0===f?void 0:f.nickname)&&y().then((function(){return console.log("Successfuly published did to the registery")})).catch((function(e){return console.error("Unable published did to the registery",e)}));case 9:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var s=n.apply(e,t);function o(e){re(s,r,i,o,a,"next",e)}function a(e){re(s,r,i,o,a,"throw",e)}o(void 0)}))})()}),[d,l,e,h,y]);window.location.origin;var y=ie((0,ne.D)((0,te.Ps)(G.a),{variables:{input:{longFormDid:t,shortFormDid:null===n||void 0===n?void 0:n.id,twitterUsername:null===l||void 0===l?void 0:l.nickname,avatarUrl:null===l||void 0===l?void 0:l.picture,name:null===l||void 0===l?void 0:l.nickname,lastUpdated:(new Date).getTime()}},refetchQueries:[{query:Y.bk},"getDIDByTwitter"]}),1)[0];return(0,s.jsx)(s.Fragment,{children:c?(0,s.jsx)(le,{}):(0,s.jsxs)("button",{type:"button",onClick:function(){return u()},className:"text-white bg-blue-400 hover:bg-blue-500 focus:ring-4 focus:outline-none focus:ring-blue-400/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center",children:[(0,s.jsx)("svg",{className:"mr-2 -ml-1 w-4 h-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"twitter",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{fill:"currentColor",d:"M459.4 151.7c.325 4.548 .325 9.097 .325 13.65 0 138.7-105.6 298.6-298.6 298.6-59.45 0-114.7-17.22-161.1-47.11 8.447 .974 16.57 1.299 25.34 1.299 49.06 0 94.21-16.57 130.3-44.83-46.13-.975-84.79-31.19-98.11-72.77 6.498 .974 12.99 1.624 19.82 1.624 9.421 0 18.84-1.3 27.61-3.573-48.08-9.747-84.14-51.98-84.14-102.1v-1.299c13.97 7.797 30.21 12.67 47.43 13.32-28.26-18.84-46.78-51.01-46.78-87.39 0-19.49 5.197-37.36 14.29-52.95 51.65 63.67 129.3 105.3 216.4 109.8-1.624-7.797-2.599-15.92-2.599-24.04 0-57.83 46.78-104.9 104.9-104.9 30.21 0 57.5 12.67 76.67 33.14 23.72-4.548 46.46-13.32 66.6-25.34-7.798 24.37-24.37 44.83-46.13 57.83 21.12-2.273 41.58-8.122 60.43-16.24-14.29 20.79-32.16 39.31-52.63 54.25z"})}),"Connect"]})})};function de(e){var n=e.children,t=e.currentPage,r=(0,o.useState)(!1),i=r[0],l=r[1],c=(0,o.useState)(!1),d=c[0],u=c[1],m=(0,C.LU)().data,f=(0,q.jK)().mutate,x=function(e){return t===e},p=w()(Y.ge,Y.vd),v=function(e){(0,k.Am)((function(n){var t=n.closeToast;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"pb-4",children:["Import contact"," ",(0,s.jsxs)("a",{href:"https://twitter.com/".concat(e.twitterUsername),target:"_blank",rel:"noreferrer",className:"text-md text-blue-400",children:["@",e.twitterUsername]}),"?"]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("button",{type:"button",onClick:function(){!function(e){var n=e.twitterUsername,t=e.name,r=e.avatarUrl,i=e.longFormDid;(0,P.YH)(i).then((function(e){console.log(e),f({didDocument:JSON.parse(e.data.document),twitterUsername:n,name:t,avatarUrl:r,myDid:m})})).catch((function(e){k.Am.error("Unable to parse DID. Check formatting and try again. Long Form DID expected."),console.log("Unable to parse DID while importing contact: ",e)}))}(e),t()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Import"}),(0,s.jsx)("button",{type:"button",onClick:t,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})}),{autoClose:!1})};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"h-screen w-screen flex",children:[(0,s.jsx)("div",{className:"hidden w-28 bg-primary overflow-y-auto md:block",children:(0,s.jsxs)("div",{className:"w-full py-6 flex flex-col items-center h-full",children:[(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,s.jsx)("img",{src:"/imp-logo.svg",alt:"Impervious",height:"30",width:"30"})}),(0,s.jsx)("div",{className:"flex-1 mt-6 w-full px-2 space-y-1",children:se.map((function(e){return(0,s.jsx)(b.default,{href:e.href,passHref:!0,children:(0,s.jsxs)("a",{className:oe(x(e.name)?"bg-violet-800 text-white":"text-indigo-100 hover:bg-primary-hover hover:text-white","group w-full p-3 rounded-md flex flex-col items-center text-xs font-medium"),"aria-current":e.current?"page":void 0,children:[(0,s.jsx)(e.icon,{className:oe(x(e.name)?"text-white":"text-indigo-300 group-hover:text-white","h-6 w-6"),"aria-hidden":"true"}),(0,s.jsx)("span",{className:"mt-2",children:e.name})]})},e.name)}))}),(0,s.jsx)("div",{className:"self-end items-center flex flex-col w-full",children:(0,s.jsx)(V,{})})]})}),(0,s.jsx)(a.uT.Root,{show:i,as:o.Fragment,children:(0,s.jsx)(a.Vq,{as:"div",className:"md:hidden",onClose:l,children:(0,s.jsxs)("div",{className:"fixed inset-0 z-40 flex",children:[(0,s.jsx)(a.uT.Child,{as:o.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)(a.Vq.Overlay,{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),(0,s.jsx)(a.uT.Child,{as:o.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,s.jsxs)("div",{className:"relative max-w-xs w-full bg-primary pt-5 pb-4 flex-1 flex flex-col",children:[(0,s.jsx)(a.uT.Child,{as:o.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"absolute top-1 right-0 -mr-14 p-1",children:(0,s.jsxs)("button",{type:"button",className:"h-12 w-12 rounded-full flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-white",onClick:function(){return l(!1)},children:[(0,s.jsx)(h.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"}),(0,s.jsx)("span",{className:"sr-only",children:"Close sidebar"})]})})}),(0,s.jsx)("div",{className:"flex-shrink-0 px-4 flex items-center",children:(0,s.jsx)("img",{src:"/imp-logo.svg",alt:"Impervious",height:"30",width:"30"})}),(0,s.jsx)("div",{className:"mt-5 flex-1 h-0 px-2 overflow-y-auto",children:(0,s.jsx)("nav",{className:"h-full flex flex-col",children:(0,s.jsx)("div",{className:"space-y-1",children:se.map((function(e){return(0,s.jsxs)("a",{href:e.href,className:oe(x(e.name)?"bg-violet-800 text-white":"text-indigo-100 hover:bg-primary-hover hover:text-white","group py-2 px-3 rounded-md flex items-center text-sm font-medium"),"aria-current":e.current?"page":void 0,children:[(0,s.jsx)(e.icon,{className:oe(x(e.name)?"text-white":"text-indigo-300 group-hover:text-white","mr-3 h-6 w-6"),"aria-hidden":"true"}),(0,s.jsx)("span",{children:e.name})]},e.name)}))})})})]})}),(0,s.jsx)("div",{className:"flex-shrink-0 w-14","aria-hidden":"true"})]})})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsx)(N.Z,{open:d,setOpen:u,existingContact:null}),(0,s.jsx)("header",{className:"w-full",children:(0,s.jsxs)("div",{className:"relative flex-shrink-0 h-16 bg-white border-b border-gray-200 shadow-sm flex",children:[(0,s.jsxs)("button",{type:"button",className:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden",onClick:function(){return l(!0)},children:[(0,s.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,s.jsx)(g.Z,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,s.jsxs)("div",{className:"flex-1 flex justify-between px-4 sm:px-6 items-center",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h2",{className:"font-semibold text-primary text-md pr-3",children:t})}),(0,s.jsx)("div",{className:"bg-blue-100 w-1/2",children:(0,s.jsx)(X,{placeholder:"Search for user via Twitter username or contact name",getSources:function(e){var n=e.query;return[{sourceId:Y.zv,getItems:function(){return(0,y.g)({searchClient:p,queries:[{indexName:Y.zv,query:n}]})},templates:{item:function(e){var n=e.item;return(0,s.jsx)(Q,{item:n,saveContactConfirm:v})}}}]}})}),(0,s.jsxs)("div",{className:"ml-2 flex items-center space-x-4 sm:ml-6 sm:space-x-6",children:[(0,s.jsx)("button",{type:"button",className:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:order-0 sm:ml-0",children:"Share Browser"}),(0,s.jsx)(ae,{myDid:m}),(0,s.jsx)("button",{type:"button",onClick:function(){return u(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:ml-3",children:"Add Contact"}),(0,s.jsx)(ce,{})]})]})]})}),(0,s.jsx)("div",{className:"flex-1 flex items-stretch overflow-hidden",children:(0,s.jsx)("main",{className:"flex-1 overflow-y-auto",children:n})})]})]})})}},41854:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(85893),i=t(67294),s=t(56727),o=t(5506),a=t(40782),l=t(6218),c=t(42986),d=t(20567);function u(e){var n=e.open,t=e.setOpen,u=e.existingContact,m=(0,i.useState)(""),f=m[0],x=m[1],h=(0,i.useState)(""),g=h[0],p=h[1],v=function(){a.Am.success("Contact successfully deleted!")},b=function(e){a.Am.error("Failed to delete contact. Please try again."),console.log("Failed to delete contact. Error: ",e)},y=(0,c.LU)().data,j=(0,l.jK)().mutate,w=(0,l.jO)().mutate,N=(0,l.ZK)().mutate,D=function(){return g.split(/[\s]+/).find((function(e){return e.includes("did:")}))};return(0,r.jsx)(s.uT.Root,{show:n,as:i.Fragment,children:(0,r.jsx)(s.Vq,{as:"div",className:"absolute fixed overflow-hidden z-10",onClose:t,children:(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsx)(s.Vq.Overlay,{className:"absolute inset-0"}),(0,r.jsx)("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16",children:(0,r.jsx)(s.uT.Child,{as:i.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,r.jsx)("div",{className:"pointer-events-auto w-screen max-w-md",children:(0,r.jsxs)("form",{className:"flex h-full flex-col divide-y divide-gray-200 bg-white shadow-xl",children:[(0,r.jsxs)("div",{className:"h-0 flex-1 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"bg-primary py-6 px-4 sm:px-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(s.Vq.Title,{className:"text-lg font-medium text-white",children:[" ","Add or Update Contact"," ",u&&"- ".concat(u.name)]}),(0,r.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,r.jsxs)("button",{type:"button",className:"rounded-md bg-indigo-700 text-indigo-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:function(){return t(!1)},children:[(0,r.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,r.jsx)(o.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("p",{className:"text-sm text-indigo-300",children:"Add or update an existing contact in the form below."})})]}),(0,r.jsx)("div",{className:"flex flex-1 flex-col justify-between",children:(0,r.jsx)("div",{className:"divide-y divide-gray-200 px-4 sm:px-6",children:(0,r.jsxs)("div",{className:"space-y-6 pt-6 pb-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"project-name",className:"block text-md font-medium text-gray-900",children:[" ","Name"," "]}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"name",defaultValue:u?u.name:"",onChange:function(e){return x(e.target.value)},id:"name",className:"block w-full border rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-md font-medium text-gray-900",children:"Paste Contact/Long Form Did"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("textarea",{id:"didDocument",name:"didDocument",onChange:function(e){return p(e.target.value)},rows:4,className:"block w-full rounded-md border-2 border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})})]})]})})})]}),(0,r.jsxs)("div",{className:"flex flex-shrink-0 justify-end px-4 py-4",children:[u&&(0,r.jsx)("button",{type:"button",className:"rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-red-700 shadow-sm hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",onClick:function(){(0,a.Am)((function(e){var n=e.closeToast;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"pb-4",children:"Delete this contact?"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){u&&w(u.id,{onSuccess:v,onError:b}),n()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Delete"}),(0,r.jsx)("button",{type:"button",onClick:n,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})}),{autoClose:!1})},children:"Delete"}),(0,r.jsx)("button",{type:"button",className:"ml-4 rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:function(){return t(!1)},children:"Cancel"}),(0,r.jsx)("button",{type:"submit",onClick:function(e){return function(e){if(e.preventDefault(),u)if(g){var n=D();if(!n)return void a.Am.error("Unable to parse DID. Check formatting and try again.");n.split("?")[0]===u.did?(N({name:f,existingContact:u,longFormDid:n||null}),t(!1)):a.Am.error("DID ID does not match this contact's ID. Please supply a correct DID or create a new contact for this DID.")}else N({name:f,existingContact:u});else{var r=D();r?(0,d.YH)(r).then((function(e){console.log(e),j({didDocument:JSON.parse(e.data.document),name:f,myDid:y}),t(!1)})).catch((function(e){a.Am.error("Unable to parse DID. Check formatting and try again. Long Form DID expected."),console.log(e)})):a.Am.error("Unable to parse DID. Check formatting and try again.")}}(e)},className:"ml-4 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:u?"Update":"Add"})]})]})})})})]})})})}},60949:function(e,n,t){t.d(n,{a:function(){return r},JZ:function(){return i},gL:function(){return s}});var r="\n  mutation CreateDID(\n    $input: CreateDIDInput!\n    $condition: ModelDIDConditionInput\n  ) {\n    createDID(input: $input, condition: $condition) {\n      id\n      twitterUsername\n      longFormDid\n      shortFormDid\n      avatarUrl\n      lastUpdated\n      name\n      createdAt\n      updatedAt\n    }\n  }\n",i="\n  mutation UpdateDID(\n    $input: UpdateDIDInput!\n    $condition: ModelDIDConditionInput\n  ) {\n    updateDID(input: $input, condition: $condition) {\n      id\n      twitterUsername\n      longFormDid\n      shortFormDid\n      avatarUrl\n      lastUpdated\n      name\n      createdAt\n      updatedAt\n    }\n  }\n",s="\n  mutation DeleteDID(\n    $input: DeleteDIDInput!\n    $condition: ModelDIDConditionInput\n  ) {\n    deleteDID(input: $input, condition: $condition) {\n      id\n      twitterUsername\n      longFormDid\n      shortFormDid\n      avatarUrl\n      lastUpdated\n      name\n      createdAt\n      updatedAt\n    }\n  }\n"},96787:function(e,n,t){t.d(n,{Dm:function(){return i},UX:function(){return s},_$:function(){return o}});var r=t(91131),i=(0,r.cn)(),s=(0,r.cn)(),o=(0,r.cn)("");(0,r.cn)("currentRegisteryUser","")}}]);