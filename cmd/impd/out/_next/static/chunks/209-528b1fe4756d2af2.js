(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{47443:function(e,t,r){var a=r(42118);e.exports=function(e,t){return!!(null==e?0:e.length)&&a(e,t,0)>-1}},1196:function(e){e.exports=function(e,t,r){for(var a=-1,n=null==e?0:e.length;++a<n;)if(r(t,e[a]))return!0;return!1}},42118:function(e,t,r){var a=r(41848),n=r(62722),s=r(42351);e.exports=function(e,t,r){return t===t?s(e,t,r):a(e,n,r)}},62722:function(e){e.exports=function(e){return e!==e}},45652:function(e,t,r){var a=r(88668),n=r(47443),s=r(1196),i=r(74757),l=r(23593),c=r(21814);e.exports=function(e,t,r){var o=-1,d=n,x=e.length,m=!0,u=[],h=u;if(r)m=!1,d=s;else if(x>=200){var f=t?null:l(e);if(f)return c(f);m=!1,d=i,h=new a}else h=t?[]:u;e:for(;++o<x;){var p=e[o],g=t?t(p):p;if(p=r||0!==p?p:0,m&&g===g){for(var v=h.length;v--;)if(h[v]===g)continue e;t&&h.push(g),u.push(p)}else d(h,g,r)||(h!==u&&h.push(g),u.push(p))}return u}},23593:function(e,t,r){var a=r(58525),n=r(50308),s=r(21814),i=a&&1/s(new a([,-0]))[1]==1/0?function(e){return new a(e)}:n;e.exports=i},42351:function(e){e.exports=function(e,t,r){for(var a=r-1,n=e.length;++a<n;)if(e[a]===t)return a;return-1}},50308:function(e){e.exports=function(){}},45578:function(e,t,r){var a=r(67206),n=r(45652);e.exports=function(e,t){return e&&e.length?n(e,a(t,2)):[]}},14887:function(e,t,r){"use strict";var a=r(85893),n=r(67294);t.Z=function(e){var t=e.contact,r=e.className,s=(0,n.useState)(),i=s[0],l=s[1];return(0,n.useEffect)((function(){if(t){var e=JSON.parse(t.metadata).username;l(e)}}),[t]),(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)("svg",{className:r,"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"twitter",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,a.jsx)("path",{fill:"#1D9BF0",d:"M459.4 151.7c.325 4.548 .325 9.097 .325 13.65 0 138.7-105.6 298.6-298.6 298.6-59.45 0-114.7-17.22-161.1-47.11 8.447 .974 16.57 1.299 25.34 1.299 49.06 0 94.21-16.57 130.3-44.83-46.13-.975-84.79-31.19-98.11-72.77 6.498 .974 12.99 1.624 19.82 1.624 9.421 0 18.84-1.3 27.61-3.573-48.08-9.747-84.14-51.98-84.14-102.1v-1.299c13.97 7.797 30.21 12.67 47.43 13.32-28.26-18.84-46.78-51.01-46.78-87.39 0-19.49 5.197-37.36 14.29-52.95 51.65 63.67 129.3 105.3 216.4 109.8-1.624-7.797-2.599-15.92-2.599-24.04 0-57.83 46.78-104.9 104.9-104.9 30.21 0 57.5 12.67 76.67 33.14 23.72-4.548 46.46-13.32 66.6-25.34-7.798 24.37-24.37 44.83-46.13 57.83 21.12-2.273 41.58-8.122 60.43-16.24-14.29 20.79-32.16 39.31-52.63 54.25z"})})," "]})}},10209:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return B}});var a=r(85893),n=r(67294),s=r(60758);var i=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"}))}));var l=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),n.createElement("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"}))}));var c=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"}))}));var o=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"}))})),d=r(78757),x=r(45578),m=r.n(x),u=r(63750),h=r(79352),f=r(11163),p=r(30381),g=r.n(p),v=r(18426),b=r(6218),y=r(61751),j=r(46249),N=r(91131),w=r(43101),k=r(82130),C=r(5506),M=r(37328),E=r(47193),O=r(59856),S=r(40782),z=r(74855),F=r(96787),U=r(85528),Z=r(20567),D=r(24796),_=r(73210),A=r(44156),L=r(14887);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(c){n=!0,s=c}finally{try{a||null==l.return||l.return()}finally{if(n)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var J=function(e){var t=e.conversations,r=e.unreadMessages,s=R((0,N.KO)(w.D0),2)[1],i=(0,b.ff)().data,l=(0,y.bj)().mutate,c=(0,f.useRouter)(),o=(0,j.LU)().data,d=function(e){s(e),c.push("/d/chat")},x=function(e){if("https://didcomm.org/webrtc/1.0/sdp"===(null===e||void 0===e?void 0:e.data.type))return"Sent you an invite to connect.";if("file-transfer-done"===(null===e||void 0===e?void 0:e.data.type))return"File transfer.";var t,r;if(!(0,E.p)(null===e||void 0===e?void 0:e.data.body.content))return"".concat(null===(t=null===e||void 0===e?void 0:e.data.body.content)||void 0===t?void 0:t.slice(0,50).toString()," ").concat((null===(r=null===e||void 0===e?void 0:e.data.body.content)||void 0===r?void 0:r.length)>50?"...":"");var a=JSON.parse(null===e||void 0===e?void 0:e.data.body.content);if(a.data){var n=a.data.name,s=a.dataUri;if(n&&s)return"File transfer."}},m=function(e){return(0,D.zi)({messages:e})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,a.jsx)("th",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,a.jsx)("th",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)("span",{className:"lg:pl-2",children:"Conversations"})}),(0,a.jsx)("th",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participants"}),(0,a.jsx)("th",{className:"hidden md:table-cell px-6 py-3 border-b border-gray-200 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Latest"}),(0,a.jsx)("th",{className:"pr-6 py-3 border-b border-gray-200 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:t&&t.map((function(e,t){var s,c=e.groupId,u=e.messages;return(0,a.jsxs)("tr",{className:"".concat(r[c]>0?"bg-white":"bg-gray-100"),children:[(0,a.jsx)("td",{className:"px-6 py-3 text-sm text-gray-500 font-medium",onClick:function(){return d(c)},children:(0,a.jsx)("div",{className:"flex items-center space-x-2 lg:pl-2",children:(0,a.jsx)("div",{className:"flex flex-shrink-0 -space-x-1 items-center",children:(0,D.Lz)({message:u.slice(-1)[0],contacts:null===i||void 0===i?void 0:i.data.contacts,myDid:o}).map((function(e,t){var r,s,i;return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(U.Z,{contact:e,className:"h-8 w-8"}),(0,a.jsxs)("div",{className:"flex flex-col pl-2",children:[(0,a.jsxs)("div",{className:"pl-2 text-gray-900 text-md font-semibold pr-5 flex items-center space-x-2",children:[null===e||void 0===e?void 0:e.name,e&&(0,a.jsx)(L.Z,{contact:e,className:"ml-2 h-4 w-4"})]}),"Unknown"===(null===e||void 0===e?void 0:e.name)&&m(u)&&(0,a.jsxs)("span",{className:"text-gray-500 font-normal text-xs",children:["(Maybe: ",m(u),")"]}),(null===e||void 0===e?void 0:e.metadata)&&(null===(r=JSON.parse(null===e||void 0===e?void 0:e.metadata))||void 0===r?void 0:r.username)&&(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://twitter.com/".concat(null===(s=JSON.parse(null===e||void 0===e?void 0:e.metadata))||void 0===s?void 0:s.username),className:"pl-2 text-blue-500 text-sm hover:underline font-normal",children:"(@".concat(null===(i=JSON.parse(null===e||void 0===e?void 0:e.metadata))||void 0===i?void 0:i.username,")")})]})]},t)}))})})}),(0,a.jsx)("td",{onClick:function(){return d(c)},className:"px-6 py-3 max-w-0 w-full whitespace-nowrap text-sm font-medium text-gray-900",children:(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsxs)("div",{className:"truncate hover:text-gray-600 flex items-center",children:[r[c]>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-4 pr-4",children:[(0,a.jsx)("div",{className:"bg-primary flex-shrink-0 w-2.5 h-2.5 rounded-full","aria-hidden":"true"}),(0,a.jsx)("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:r[c]})]}),(0,a.jsx)("span",{className:"".concat(r[c]>0?"font-semibold":"font-normal"),children:x(u.slice(-1)[0])})]})})}),(0,a.jsx)("td",{className:"px-6 py-3 text-sm text-gray-500 font-medium",onClick:function(){return d(c)},children:(0,a.jsx)("div",{className:"flex items-center space-x-2 justify-center",children:(0,a.jsx)("div",{className:"flex flex-shrink-0 -space-x-1 items-center",children:(0,D.Lz)({message:u.slice(-1)[0],contacts:null===i||void 0===i?void 0:i.data.contacts,myDid:o}).map((function(e,t){return(0,a.jsx)(n.Fragment,{children:(0,a.jsx)(U.Z,{contact:e,className:"h-6 w-6"},t)},t)}))})})}),(0,a.jsx)("td",{className:"hidden md:table-cell px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-right",onClick:function(){return d(c)},children:g().unix(null===(s=u.slice(-1)[0])||void 0===s?void 0:s.data.created_time).fromNow()}),(0,a.jsx)("td",{className:"px-6 py-3 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:function(){return d(c)},children:(0,a.jsx)("div",{className:"text-indigo-800 hover:text-indigo-900",children:"View"})}),(0,a.jsx)("button",{onClick:function(){return(0,M.SJ)({groupId:c,deleteGroupMessage:l})},children:(0,a.jsx)("div",{className:"text-red-800 hover:text-red-900",children:"Delete"})})]})})]},t)}))})]})})},V=function(e){var t=e.notifications,r=(0,b.ff)().data,s=(0,j.LU)().data,i=function(e){return(0,D.zi)({messages:e})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,a.jsx)("th",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,a.jsx)("th",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)("span",{className:"lg:pl-2",children:"Notifications"})}),(0,a.jsx)("th",{className:"hidden md:table-cell px-6 py-3 border-b border-gray-200 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),(0,a.jsx)("th",{className:"pr-6 py-3 border-b border-gray-200 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:null===t||void 0===t?void 0:t.map((function(e,l){return(0,a.jsxs)("tr",{className:"".concat((0,M.qP)(e.data.created_time)?"bg-white":"bg-gray-100"," "),children:[(0,a.jsx)("td",{className:"px-6 py-3 text-sm text-gray-500 font-medium",onClick:function(){return goToConversation(groupId)},children:(0,a.jsx)("div",{className:"flex items-center space-x-2 lg:pl-2",children:(0,a.jsx)("div",{className:"flex flex-shrink-0 -space-x-1 items-center",children:(0,D.Lz)({message:e,contacts:null===r||void 0===r?void 0:r.data.contacts,myDid:s}).map((function(e,r){var s,l,c;return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(U.Z,{contact:e,className:"h-8 w-8"}),(0,a.jsxs)("div",{className:"flex flex-col pl-2",children:[(0,a.jsxs)("div",{className:"pl-2 text-gray-900 text-md font-semibold pr-5 flex items-center space-x-2",children:[null===e||void 0===e?void 0:e.name,e&&(0,a.jsx)(L.Z,{contact:e,className:"ml-2 h-4 w-4"})]}),"Unknown"===(null===e||void 0===e?void 0:e.name)&&i(t)&&(0,a.jsxs)("span",{className:"text-gray-500 font-normal text-xs",children:["(Maybe: ",i(t),")"]}),(null===e||void 0===e?void 0:e.metadata)&&(null===(s=JSON.parse(null===e||void 0===e?void 0:e.metadata))||void 0===s?void 0:s.username)&&(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://twitter.com/".concat(null===(l=JSON.parse(null===e||void 0===e?void 0:e.metadata))||void 0===l?void 0:l.username),className:"pl-2 text-blue-500 text-sm hover:underline font-normal",children:"(@".concat(null===(c=JSON.parse(null===e||void 0===e?void 0:e.metadata))||void 0===c?void 0:c.username,")")})]})]},r)}))})})}),(0,a.jsx)("td",{className:"px-6 py-3 max-w-0 w-full whitespace-nowrap text-sm font-medium text-gray-900",children:(0,a.jsx)("div",{className:"flex items-center space-x-3 lg:pl-2",children:(0,a.jsx)("div",{href:"#",className:"truncate hover:text-gray-600",children:(0,a.jsx)("span",{className:"".concat((0,M.qP)(e.data.created_time)?"font-bold":"font-normal"),children:(0,a.jsx)("span",{className:"text-gray-500 font-normal",children:"".concat((0,D.Er)({shortFormDid:(0,Z.Ho)(e.data.from),contacts:r.data.contacts}).name," invited you to connect")})})})})}),(0,a.jsx)("td",{className:"hidden md:table-cell px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-right",children:g().unix(e.data.created_time).fromNow()}),(0,a.jsx)("td",{className:"px-6 py-3 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsx)(a.Fragment,{children:(0,M.qP)(e.data.created_time)?(0,a.jsx)("button",{onClick:function(){return(0,O.WV)({detail:{message:e.data.body.content,knownContact:(0,D.Er)({shortFormDid:(0,Z.Ho)(e.data.from),contacts:r.data.contacts}),sourceType:"didcomm"}})},children:(0,a.jsx)("div",{className:"text-indigo-800 hover:text-indigo-900 pr-2 ",children:"Show"})}):(0,a.jsx)("div",{className:"text-gray-600",children:"Expired"})})})]},l)}))})]})})},H=function(e){var t=e.peers;e.router;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,a.jsx)("th",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)("span",{className:"lg:pl-2",children:"Connected Users"})}),(0,a.jsx)("th",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"DID"}),(0,a.jsx)("th",{className:"pr-6 py-3 border-b border-gray-200 bg-gray-50 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:t.map((function(e,t){return(0,a.jsxs)("tr",{className:"".concat("bg-white"),children:[(0,a.jsx)("td",{className:"px-6 py-3 max-w-0 w-full whitespace-nowrap text-sm font-medium text-gray-900",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 lg:pl-2",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-3 h-3 rounded-full flex items-center justify-center ".concat("border-2 border-green-400"),"aria-hidden":"true",children:(0,a.jsx)("div",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-green-400 border-2 border-green-400 ","aria-hidden":"true"})}),(0,a.jsx)(U.Z,{contact:e.metadata.contact,className:"h-6 w-6"},t),(0,a.jsx)("div",{className:"truncate hover:text-gray-600",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.metadata.contact?e.metadata.contact.name:"Unknown User",e.metadata.contact&&(0,a.jsx)(L.Z,{contact:e.metadata.contact,className:"ml-2 h-4 w-4"})]})})]})}),(0,a.jsx)("td",{className:"px-6 py-3 text-sm text-gray-500 font-medium",children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("div",{className:"flex flex-shrink-0 -space-x-1",children:e.metadata.dest})})}),(0,a.jsx)("td",{className:"hidden md:table-cell px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-right",children:"Online"}),(0,a.jsxs)("td",{className:"px-6 py-3 whitespace-nowrap text-right text-sm font-medium",children:[(0,a.jsx)("button",{type:"button",className:"inline-flex items-center p-1",children:(0,a.jsx)(i,{className:"h-5 w-5 text-indigo-800 hover:text-primary-hover","aria-hidden":"true"})}),(0,a.jsx)("button",{type:"button",className:"inline-flex items-center p-1",children:(0,a.jsx)(l,{className:"h-5 w-5 text-indigo-800 hover:text-primary-hover","aria-hidden":"true"})}),(0,a.jsx)("button",{type:"button",className:"inline-flex items-center p-1",children:(0,a.jsx)(u.mly,{className:"h-5 w-5 text-indigo-800 hover:text-primary-hover","aria-hidden":"true"})}),(0,a.jsx)("button",{type:"button",className:"inline-flex items-center p-1",onClick:function(){return e.peer.destroy()},children:(0,a.jsx)(C.Z,{className:"h-5 w-5 text-indigo-800 hover:text-primary-hover","aria-hidden":"true"})})]})]},t)}))})]})})},T=function(e){var t=e.title,r=e.subtitle,n=e.notificationCount,s=e.setCurrentTable,i=e.icon;return(0,a.jsxs)("li",{className:"relative col-span-1 flex shadow-sm rounded-md",onClick:function(){return s(t)},children:[(0,a.jsxs)("div",{className:"bg-primary flex-shrink-0 flex items-center justify-center w-16 text-white text-sm font-medium rounded-l-md px-4",children:[(0,a.jsx)("div",{className:"".concat(n>0?"bg-green-500":"bg-opacity-100"," flex-shrink-0 w-3 h-3 rounded-full absolute top-0 right-0"),"aria-hidden":"true"}),i]}),(0,a.jsx)("div",{className:"flex-1 flex items-center justify-between border-t border-r border-b border-gray-200 bg-white rounded-r-md truncate",children:(0,a.jsxs)("div",{className:"flex-1 px-4 py-2 text-sm truncate",children:[(0,a.jsx)("div",{href:"#",className:"text-gray-900 font-medium hover:text-gray-600",children:t}),(0,a.jsxs)("p",{className:"text-gray-500",children:[n," ",r]})]})})]},t)};function B(){var e=(0,n.useState)("Messages"),t=e[0],r=e[1],x=(0,n.useState)(!1),p=x[0],g=x[1],C=(0,n.useState)({}),M=C[0],E=C[1],O=(0,n.useState)([]),U=O[0],Z=O[1],D=(0,n.useState)([]),L=D[0],B=D[1],I=(0,f.useRouter)(),P=R((0,N.KO)(w.Lu),1)[0],q=R((0,N.KO)(k.R3),1)[0],K=R((0,N.KO)(F.UX),1)[0],G=(0,j.LU)().data,Q=(0,b.JA)().data,W=(0,b.ff)().data,X=(0,_.p)().data,Y=(0,y.mA)({contacts:null===W||void 0===W?void 0:W.data.contacts,myDid:G,blocklist:Q,settings:X}).data,$=(0,A.r)().data;(0,n.useEffect)((function(){if(q){var e=q.filter((function(e){return e.peer._connected}));B(m()(e,"metadata.dest"))}}),[q]),(0,n.useEffect)((function(){var e=0,t={total:0};if(Y){var r=Y.conversations,a=Y.notifications;r&&r.forEach((function(e){var r=e.messages.filter((function(e){return-1===P.indexOf(e.id)})).length;t[e.groupId]=r,t.total+=r})),a&&(e=a.filter((function(e){return-1===P.indexOf(e.id)})).length)}E(t),Z(e)}),[P,Y]);return(0,a.jsx)(s.Z,{currentPage:"Dashboard",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,{open:p,setOpen:g,selectedContact:null}),(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsxs)("main",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"px-4 mt-6 sm:px-6 lg:px-8",children:[(0,a.jsx)("h2",{className:"text-gray-500 text-xs font-medium uppercase tracking-wide",children:"Quick Actions"}),(0,a.jsxs)("ul",{role:"list",className:"grid grid-cols-1 gap-4 sm:gap-6 sm:grid-cols-2 xl:grid-cols-4 mt-3 ",children:[(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex-1 flex items-center pt-2 truncate space-x-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center pr-2",children:[(0,a.jsx)("button",{type:"button",onClick:function(){return I.push("/d/meeting")},className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,a.jsx)(i,{className:"h-5 w-5","aria-hidden":"true"})}),(0,a.jsx)("p",{className:"text-gray-900 font-medium hover:text-gray-600 text-sm pt-1",children:"Meet"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("button",{type:"button",onClick:function(){return I.push("/d/chat")},className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,a.jsx)(c,{className:"h-5 w-5","aria-hidden":"true"})}),(0,a.jsx)("p",{className:"text-gray-900 font-medium hover:text-gray-600 text-sm pt-1",children:"Message"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("button",{type:"button",onClick:function(){(null===$||void 0===$?void 0:$.data.lightningConfig.listening)?g(!0):S.Am.info("Connect to a lightning node to use this action.")},className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,a.jsx)(u.mly,{className:"h-5 w-5","aria-hidden":"true"})}),(0,a.jsx)("p",{className:"text-gray-900 font-medium hover:text-gray-600 text-sm pt-1",children:"Lightning"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)(z.CopyToClipboard,{text:K,onCopy:function(){return S.Am.info("Copied to clipboard! Share this document!")},children:(0,a.jsx)("button",{type:"button",className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,a.jsx)(h.FqR,{className:"h-5 w-5","aria-hidden":"true"})})}),(0,a.jsx)("p",{className:"text-gray-900 font-medium hover:text-gray-600 text-sm pt-1",children:"Share"})]})]})}),(0,a.jsx)(T,{title:"Messages",subtitle:"Unread Messages",notificationCount:M.total,setCurrentTable:r,icon:(0,a.jsx)(l,{})}),(0,a.jsx)(T,{title:"Notifications",subtitle:"New Notifications",notificationCount:U,setCurrentTable:r,icon:(0,a.jsx)(o,{})}),(0,a.jsx)(T,{title:"Connected Users",subtitle:"Connected Users",notificationCount:L.length,setCurrentTable:r,icon:(0,a.jsx)(d.Z,{})})]})]}),(0,a.jsx)("div",{className:"mt-8 ",children:(0,a.jsxs)("div",{className:"align-middle inline-block min-w-full border-b border-gray-200",children:["Messages"===t&&(0,a.jsx)(J,{unreadMessages:M,conversations:null===Y||void 0===Y?void 0:Y.conversations}),"Notifications"===t&&(0,a.jsx)(V,{notifications:null===Y||void 0===Y?void 0:Y.notifications.slice(-20)}),"Connected Users"===t&&(0,a.jsx)(H,{peers:L,router:I})]})})]})})]})})}},78757:function(e,t,r){"use strict";var a=r(67294);const n=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}))}));t.Z=n}}]);