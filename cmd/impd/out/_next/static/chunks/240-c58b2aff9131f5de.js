"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{11240:function(e,t,n){n.d(t,{Z:function(){return ae}});var r=n(35666),s=n.n(r),i=n(85893),o=n(67294),a=n(56727),l=n(41782),c=n(69641),d=n(36388),u=n(37051),m=n(63233),f=n(24635),x=n(62435),h=n(5506),g=n(66430),p=n(88100),v=n(91131),b=n(11163),y=n(41664),j=n(77358),w=n(24955),N=n.n(w),C=n(41854),k=n(74855),D=n(40782),F=n(46249),T=n(96787),I=n(34220),Z=n(48137),A=n(66339),O=n(16573),U=n(1020),S=n(46616),z=n(87385),E=n(38168),L=n(44276),P=n(12834),q=n(69275),B=n(20567),K=n(6218),V=n(43101),H=n(96618);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,s=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){s=!0,i=l}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function _(){var e=M((0,v.KO)(V.r2),2),t=e[0],n=e[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.rs,{checked:t,onChange:n,className:R(t?"bg-indigo-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:[(0,i.jsx)("span",{className:"sr-only",children:"Use setting"}),(0,i.jsxs)("span",{className:R(t?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"),children:[(0,i.jsx)("span",{className:R(t?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:(0,i.jsx)("svg",{className:"h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 12 12",children:(0,i.jsx)("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,i.jsx)("span",{className:R(t?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:(0,i.jsx)(H.Z,{className:"text-indigo-800 h-3 w-3"})})]})]}),(0,i.jsx)("div",{className:"flex",children:(0,i.jsx)("p",{className:"py-2 px-3 rounded-md items-center text-xs font-medium text-indigo-100",children:"Lightning"})})]})}var J=n(17139),W=n(73935);function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){var t=(0,o.useRef)(null);return(0,o.useEffect)((function(){if(t.current){var n=(0,J.H)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Y(e,t,n[t])}))}return e}({container:t.current,renderer:{createElement:o.createElement,Fragment:o.Fragment,render:W.render}},e));return function(){n.destroy()}}}),[e]),(0,i.jsx)("div",{ref:t})}var Q=n(24796),X=n(76763);function $(e){var t=e.item,n=e.saveContactConfirm;return(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsxs)("div",{className:"flex space-x-4 items-center w-full px-4",children:[(0,i.jsx)("img",{className:"inline-block h-8 w-8 rounded-full",src:t.avatarUrl,alt:""}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("p",{className:"text-lg text-gray-900",children:t.name}),(0,i.jsxs)("a",{href:"https://twitter.com/".concat(t.twitterUsername),className:"text-sm text-blue-400",children:["@",t.twitterUsername]}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:t.shortFormDid})]})]}),(0,i.jsx)("div",{className:"flex items-center pr-2",children:(0,i.jsx)("button",{type:"button",className:"inline-flex items-center text-primary hover:bg-indigo-200 rounded-full",onClick:function(){return n(t)},children:(0,i.jsx)(X.Z,{className:"h-6 w-6","aria-hidden":"true"})})})]})}function ee(e,t,n,r,s,i,o){try{var a=e[i](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,s)}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,s=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){s=!0,i=l}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ne=[{name:"Dashboard",href:"/d/dashboard",icon:l.Z,current:!1},{name:"Messaging",href:"/d/chat",icon:c.Z,current:!1},{name:"Meet",href:"/d/meeting",icon:d.Z,current:!1},{name:"Live Docs",href:"/d/content",icon:u.Z,current:!0},{name:"Contacts",href:"/d/contacts",icon:m.Z,current:!1},{name:"Settings",href:"/d/settings",icon:f.Z,current:!1}];function re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var se=function(e){var t=e.myDid,n=te((0,v.KO)(T.D),2)[1],r=te((0,v.KO)(T.U),2),s=r[0],l=r[1];(0,o.useEffect)((function(){t&&(0,B.YH)(t.id).then((function(e){n(JSON.parse(e.data.document)),l(e.data.longFormDid)})).catch((function(e){console.log(e)}))}),[t,l,n]);var c="I want to share my Impervious contact with you!";return(0,i.jsxs)(a.v2,{as:"div",className:"relative inline-block text-left",children:[(0,i.jsx)("div",{children:(0,i.jsx)(a.v2.Button,{className:"order-0 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:order-1 sm:ml-3",children:"Share Contact"})}),(0,i.jsx)(a.uT,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,i.jsx)(a.v2.Items,{className:"z-10 origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,i.jsx)("div",{className:"py-1",children:(0,i.jsx)(a.v2.Item,{children:function(e){e.active;return(0,i.jsxs)("div",{className:"grid grid-cols-4 gap-2 p-4",children:[(0,i.jsx)(k.CopyToClipboard,{text:s,onCopy:function(){return D.Am.info("Copied to clipboard! Share this document!")},children:(0,i.jsx)("button",{type:"button",className:"inline-flex items-center p-1 w-2/3 border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,i.jsx)(x.Z,{className:"h-5 w-5","aria-hidden":"true"})})}),(0,i.jsx)(Z.Z,{subject:c,url:t,children:(0,i.jsx)(A.Z,{size:32,round:!0})}),(0,i.jsx)(O.Z,{url:t,quote:c,children:(0,i.jsx)(U.Z,{size:32,round:!0})}),(0,i.jsx)(S.Z,{url:t,title:c,children:(0,i.jsx)(z.Z,{size:32,round:!0})}),(0,i.jsx)(E.Z,{url:t,title:c,children:(0,i.jsx)(L.Z,{size:32,round:!0})}),(0,i.jsx)(P.Z,{url:t,title:c,separator:":: ",children:(0,i.jsx)(q.Z,{size:32,round:!0})})]})}})})})})]})},ie=function(){var e=(0,p.D3)(),t=e.user,n=e.logout,r="";r=window.location.origin;return(0,i.jsxs)(a.v2,{as:"div",className:"relative inline-block text-left",children:[(0,i.jsx)("div",{children:(0,i.jsxs)(a.v2.Button,{className:"flex items-center rounded-full bg-gray-100 text-gray-400 hover:text-gray-600",children:[(0,i.jsx)("span",{className:"sr-only",children:"Open options"}),t&&(0,i.jsx)("img",{className:"inline-block h-8 w-8 rounded-full",src:t.picture,alt:""})]})}),(0,i.jsx)(a.uT,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,i.jsx)(a.v2.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,i.jsxs)("div",{className:"py-1",children:[(0,i.jsxs)("div",{className:"flex flex-col items-center border-b border-b-2 border-gray-400 pb-2 ",children:[(0,i.jsx)("p",{className:"text-sm text-gray-700",children:"Logged in as:"}),(0,i.jsxs)("a",{href:"https://twitter.com/".concat(t.nickname),rel:"noreferrer",target:"_blank",className:"text-sm text-blue-500",children:["@",t.nickname]})]}),(0,i.jsx)(a.v2.Item,{children:function(e){var t=e.active;return(0,i.jsx)("button",{type:"submit",onClick:function(){return function(e){return e.state,n({returnTo:r})}({state:"Identity"})},className:re(t?"bg-gray-100 text-gray-900":"text-gray-700","block w-full px-4 py-2 text-left text-sm text-center"),children:"Sign out"})}})]})})})]})},oe=function(){var e=te((0,v.KO)(I.lA),2)[1],t=((0,b.useRouter)(),(0,p.D3)()),n=t.user,r=t.isAuthenticated,a=(t.loginWithRedirect,t.getAccessTokenSilently),l=t.loginWithPopup;(0,o.useEffect)((function(){var t;(t=s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,a();case 3:r=t.sent,e(r);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function o(e){ee(i,r,s,o,a,"next",e)}function a(e){ee(i,r,s,o,a,"throw",e)}o(void 0)}))})()}),[a,n,e]);return window.location.origin,(0,i.jsx)(i.Fragment,{children:r?(0,i.jsx)(ie,{}):(0,i.jsxs)("button",{type:"button",onClick:function(){return l()},className:"text-white bg-blue-400 hover:bg-blue-500 focus:ring-4 focus:outline-none focus:ring-blue-400/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center",children:[(0,i.jsx)("svg",{className:"mr-2 -ml-1 w-4 h-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"twitter",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,i.jsx)("path",{fill:"currentColor",d:"M459.4 151.7c.325 4.548 .325 9.097 .325 13.65 0 138.7-105.6 298.6-298.6 298.6-59.45 0-114.7-17.22-161.1-47.11 8.447 .974 16.57 1.299 25.34 1.299 49.06 0 94.21-16.57 130.3-44.83-46.13-.975-84.79-31.19-98.11-72.77 6.498 .974 12.99 1.624 19.82 1.624 9.421 0 18.84-1.3 27.61-3.573-48.08-9.747-84.14-51.98-84.14-102.1v-1.299c13.97 7.797 30.21 12.67 47.43 13.32-28.26-18.84-46.78-51.01-46.78-87.39 0-19.49 5.197-37.36 14.29-52.95 51.65 63.67 129.3 105.3 216.4 109.8-1.624-7.797-2.599-15.92-2.599-24.04 0-57.83 46.78-104.9 104.9-104.9 30.21 0 57.5 12.67 76.67 33.14 23.72-4.548 46.46-13.32 66.6-25.34-7.798 24.37-24.37 44.83-46.13 57.83 21.12-2.273 41.58-8.122 60.43-16.24-14.29 20.79-32.16 39.31-52.63 54.25z"})}),"Connect"]})})};function ae(e){var t=e.children,n=e.currentPage,r=(0,o.useState)(!1),s=r[0],l=r[1],c=(0,o.useState)(!1),d=c[0],u=c[1],m=(0,F.LU)().data,f=(0,K.jK)().mutate,x=function(e){return n===e},p=N()(Q.ge,Q.vd),v=function(e){(0,D.Am)((function(t){var n=t.closeToast;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:"pb-4",children:["Import contact"," ",(0,i.jsxs)("a",{href:"https://twitter.com/".concat(e.twitterUsername),className:"text-md text-blue-400",children:["@",e.twitterUsername]}),"?"]}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[(0,i.jsx)("button",{type:"button",onClick:function(){!function(e){var t=e.twitterUsername,n=e.name,r=e.avatarUrl,s=e.longFormDid;(0,B.YH)(s).then((function(e){console.log(e),f({didDocument:JSON.parse(e.data.document),twitterUsername:t,name:n,avatarUrl:r,myDid:m})})).catch((function(e){D.Am.error("Unable to parse DID. Check formatting and try again. Long Form DID expected."),console.log("Unable to parse DID while importing contact: ",e)}))}(e),n()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Import"}),(0,i.jsx)("button",{type:"button",onClick:n,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})}),{autoClose:!1})};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"h-screen w-screen flex",children:[(0,i.jsx)("div",{className:"hidden w-28 bg-primary overflow-y-auto md:block",children:(0,i.jsxs)("div",{className:"w-full py-6 flex flex-col items-center h-full",children:[(0,i.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,i.jsx)("img",{src:"/imp-logo.svg",alt:"Impervious",height:"30",width:"30"})}),(0,i.jsx)("div",{className:"flex-1 mt-6 w-full px-2 space-y-1",children:ne.map((function(e){return(0,i.jsx)(y.default,{href:e.href,passHref:!0,children:(0,i.jsxs)("a",{className:re(x(e.name)?"bg-violet-800 text-white":"text-indigo-100 hover:bg-primary-hover hover:text-white","group w-full p-3 rounded-md flex flex-col items-center text-xs font-medium"),"aria-current":e.current?"page":void 0,children:[(0,i.jsx)(e.icon,{className:re(x(e.name)?"text-white":"text-indigo-300 group-hover:text-white","h-6 w-6"),"aria-hidden":"true"}),(0,i.jsx)("span",{className:"mt-2",children:e.name})]})},e.name)}))}),(0,i.jsx)("div",{className:"self-end items-center flex flex-col w-full",children:(0,i.jsx)(_,{})})]})}),(0,i.jsx)(a.uT.Root,{show:s,as:o.Fragment,children:(0,i.jsx)(a.Vq,{as:"div",className:"md:hidden",onClose:l,children:(0,i.jsxs)("div",{className:"fixed inset-0 z-40 flex",children:[(0,i.jsx)(a.uT.Child,{as:o.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)(a.Vq.Overlay,{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),(0,i.jsx)(a.uT.Child,{as:o.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,i.jsxs)("div",{className:"relative max-w-xs w-full bg-primary pt-5 pb-4 flex-1 flex flex-col",children:[(0,i.jsx)(a.uT.Child,{as:o.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)("div",{className:"absolute top-1 right-0 -mr-14 p-1",children:(0,i.jsxs)("button",{type:"button",className:"h-12 w-12 rounded-full flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-white",onClick:function(){return l(!1)},children:[(0,i.jsx)(h.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"}),(0,i.jsx)("span",{className:"sr-only",children:"Close sidebar"})]})})}),(0,i.jsx)("div",{className:"flex-shrink-0 px-4 flex items-center",children:(0,i.jsx)("img",{src:"/imp-logo.svg",alt:"Impervious",height:"30",width:"30"})}),(0,i.jsx)("div",{className:"mt-5 flex-1 h-0 px-2 overflow-y-auto",children:(0,i.jsx)("nav",{className:"h-full flex flex-col",children:(0,i.jsx)("div",{className:"space-y-1",children:ne.map((function(e){return(0,i.jsxs)("a",{href:e.href,className:re(x(e.name)?"bg-violet-800 text-white":"text-indigo-100 hover:bg-primary-hover hover:text-white","group py-2 px-3 rounded-md flex items-center text-sm font-medium"),"aria-current":e.current?"page":void 0,children:[(0,i.jsx)(e.icon,{className:re(x(e.name)?"text-white":"text-indigo-300 group-hover:text-white","mr-3 h-6 w-6"),"aria-hidden":"true"}),(0,i.jsx)("span",{children:e.name})]},e.name)}))})})})]})}),(0,i.jsx)("div",{className:"flex-shrink-0 w-14","aria-hidden":"true"})]})})}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,i.jsx)(C.Z,{open:d,setOpen:u,existingContact:null}),(0,i.jsx)("header",{className:"w-full",children:(0,i.jsxs)("div",{className:"relative flex-shrink-0 h-16 bg-white border-b border-gray-200 shadow-sm flex",children:[(0,i.jsxs)("button",{type:"button",className:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden",onClick:function(){return l(!0)},children:[(0,i.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,i.jsx)(g.Z,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,i.jsxs)("div",{className:"flex-1 flex justify-between px-4 sm:px-6 items-center",children:[(0,i.jsx)("div",{children:(0,i.jsx)("h2",{className:"font-semibold text-primary text-lg",children:n})}),(0,i.jsx)("div",{className:"bg-blue-100 w-1/2",children:(0,i.jsx)(G,{placeholder:"Search for user via Twitter username or contact name",getSources:function(e){var t=e.query;return[{sourceId:Q.zv,getItems:function(){return(0,j.g)({searchClient:p,queries:[{indexName:Q.zv,query:t}]})},templates:{item:function(e){var t=e.item;return(0,i.jsx)($,{item:t,saveContactConfirm:v})}}}]}})}),(0,i.jsxs)("div",{className:"ml-2 flex items-center space-x-4 sm:ml-6 sm:space-x-6",children:[(0,i.jsx)("button",{type:"button",className:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:order-0 sm:ml-0",children:"Share Browser"}),(0,i.jsx)(se,{myDid:m}),(0,i.jsx)("button",{type:"button",onClick:function(){return u(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:ml-3",children:"Add Contact"}),(0,i.jsx)(oe,{})]})]})]})}),(0,i.jsx)("div",{className:"flex-1 flex items-stretch overflow-hidden",children:(0,i.jsx)("main",{className:"flex-1 overflow-y-auto",children:t})})]})]})})}},41854:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(85893),s=n(67294),i=n(56727),o=n(5506),a=n(40782),l=n(6218),c=n(46249),d=n(20567);function u(e){var t=e.open,n=e.setOpen,u=e.existingContact,m=(0,s.useState)(""),f=m[0],x=m[1],h=(0,s.useState)(""),g=h[0],p=h[1],v=function(){a.Am.success("Contact successfully deleted!")},b=function(e){a.Am.error("Failed to delete contact. Please try again."),console.log("Failed to delete contact. Error: ",e)},y=(0,c.LU)().data,j=(0,l.jK)().mutate,w=(0,l.jO)().mutate,N=(0,l.ZK)().mutate,C=function(){return g.split(/[\s]+/).find((function(e){return e.includes("did:")}))};return(0,r.jsx)(i.uT.Root,{show:t,as:s.Fragment,children:(0,r.jsx)(i.Vq,{as:"div",className:"absolute fixed overflow-hidden z-10",onClose:n,children:(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsx)(i.Vq.Overlay,{className:"absolute inset-0"}),(0,r.jsx)("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16",children:(0,r.jsx)(i.uT.Child,{as:s.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,r.jsx)("div",{className:"pointer-events-auto w-screen max-w-md",children:(0,r.jsxs)("form",{className:"flex h-full flex-col divide-y divide-gray-200 bg-white shadow-xl",children:[(0,r.jsxs)("div",{className:"h-0 flex-1 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"bg-primary py-6 px-4 sm:px-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(i.Vq.Title,{className:"text-lg font-medium text-white",children:[" ","Add or Update Contact"," ",u&&"- ".concat(u.name)]}),(0,r.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,r.jsxs)("button",{type:"button",className:"rounded-md bg-indigo-700 text-indigo-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:function(){return n(!1)},children:[(0,r.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,r.jsx)(o.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("p",{className:"text-sm text-indigo-300",children:"Add or update an existing contact in the form below."})})]}),(0,r.jsx)("div",{className:"flex flex-1 flex-col justify-between",children:(0,r.jsx)("div",{className:"divide-y divide-gray-200 px-4 sm:px-6",children:(0,r.jsxs)("div",{className:"space-y-6 pt-6 pb-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"project-name",className:"block text-md font-medium text-gray-900",children:[" ","Name"," "]}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"name",defaultValue:u?u.name:"",onChange:function(e){return x(e.target.value)},id:"name",className:"block w-full border rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-md font-medium text-gray-900",children:"Paste Contact/Long Form Did"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("textarea",{id:"didDocument",name:"didDocument",onChange:function(e){return p(e.target.value)},rows:4,className:"block w-full rounded-md border-2 border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})})]})]})})})]}),(0,r.jsxs)("div",{className:"flex flex-shrink-0 justify-end px-4 py-4",children:[u&&(0,r.jsx)("button",{type:"button",className:"rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-red-700 shadow-sm hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",onClick:function(){(0,a.Am)((function(e){var t=e.closeToast;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"pb-4",children:"Delete this contact?"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){u&&w(u.id,{onSuccess:v,onError:b}),t()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Delete"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})}),{autoClose:!1})},children:"Delete"}),(0,r.jsx)("button",{type:"button",className:"ml-4 rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:function(){return n(!1)},children:"Cancel"}),(0,r.jsx)("button",{type:"submit",onClick:function(e){return function(e){if(e.preventDefault(),u)if(g){var t=C();if(!t)return void a.Am.error("Unable to parse DID. Check formatting and try again.");t.split("?")[0]===u.did?(N({name:f,existingContact:u,longFormDid:t||null}),n(!1)):a.Am.error("DID ID does not match this contact's ID. Please supply a correct DID or create a new contact for this DID.")}else N({name:f,existingContact:u});else{var r=C();r?(0,d.YH)(r).then((function(e){console.log(e),j({didDocument:JSON.parse(e.data.document),name:f,myDid:y}),n(!1)})).catch((function(e){a.Am.error("Unable to parse DID. Check formatting and try again. Long Form DID expected."),console.log(e)})):a.Am.error("Unable to parse DID. Check formatting and try again.")}}(e)},className:"ml-4 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:u?"Update":"Add"})]})]})})})})]})})})}},96787:function(e,t,n){n.d(t,{D:function(){return s},U:function(){return i}});var r=n(91131),s=(0,r.cn)(),i=(0,r.cn)()}}]);