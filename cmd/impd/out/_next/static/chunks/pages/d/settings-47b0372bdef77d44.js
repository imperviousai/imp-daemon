(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{3402:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/d/settings",function(){return n(88684)}])},46215:function(e,t,n){"use strict";var r=n(85893),s=n(67294),o=n(6828),i=n(71722),a=n(24796),l=n(6218),c=n(46249),d=n(85528);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}t.Z=function(e){var t=e.contact,n=(0,s.useState)(!1),u=n[0],x=n[1],g=(0,s.useState)({}),f=g[0],h=g[1],p=(0,l.ZK)(v,j).mutate,b=(0,c.nk)().mutate,y=(0,c.OX)().data,v=function(){return toast.success("Avatar saved!")},j=function(){return toast.error("Error saving avatar. Please try again later.")};(0,s.useEffect)((function(){h(t?JSON.parse(t.metadata).avatar:y?JSON.parse(y):m({},(0,a.nS)()))}),[t,y]);var N=function(){return(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(o.nQ,m({},f,{className:"h-32 w-full object-cover lg:h-48"})),(0,r.jsx)("button",{type:"button",onClick:function(){return x(!0),void h(m({},(0,a.nS)()))},className:"pt-2",children:(0,r.jsx)(i.Z,{className:"-ml-1 mr-2 h-6 w-6 text-gray-900","aria-hidden":"true"})}),u&&(0,r.jsxs)("div",{className:"flex space-x-2 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){return x(!1),void h(y)},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,r.jsx)("button",{type:"button",onClick:function(){return t?p({existingContact:t,avatar:f}):b({key:"myAvatar",value:JSON.stringify(f)}),void x(!1)},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save"})]})]})};return t?(0,r.jsx)(r.Fragment,{children:JSON.parse(t.metadata).username?(0,r.jsx)(d.Z,{contact:t,className:"h-32 object-cover lg:h-48 pt-5"}):(0,r.jsx)(N,{})}):(0,r.jsx)(N,{})}},85528:function(e,t,n){"use strict";var r=n(85893),s=n(67294),o=n(6828);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}t.Z=function(e){var t=e.contact,n=e.className,i=(0,s.useState)(),l=i[0],c=i[1],d=(0,s.useState)(),u=d[0],m=d[1];return(0,s.useEffect)((function(){if(t){var e=JSON.parse(t.metadata),n=e.avatar,r=e.avatarUrl;c(n),m(r)}}),[t]),(0,r.jsx)(s.Fragment,{children:u?(0,r.jsx)("img",{className:"rounded-full ".concat(n),src:u,alt:"avatar"}):l?(0,r.jsx)(o.nQ,a({className:n},l)):(0,r.jsx)(o.nQ,{className:n})})}},88684:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return de}});var r=n(85893),s=n(67294),o=n(77082),i=n(24634),a=n(66293),l=n(94323),c=n(3576),d=n(30381),u=n.n(d),m=n(74855),x=n(40782),g=n(44156),f=n(35666),h=n.n(f),p=n(9669),b=n.n(p),y=n(81354),v=n.n(y),j=n(48764).Buffer;function N(e,t,n,r,s,o,i){try{var a=e[o](i),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,s)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function i(e){N(o,r,s,i,a,"next",e)}function a(e){N(o,r,s,i,a,"throw",e)}i(void 0)}))}}var C=w(h().mark((function e(t,n,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(w(h().mark((function e(s,o){var i,a,l,c,d,u,m,x,g,f,p,b,y,N,w,C,S,D,P;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Creating your node...",n),i={"X-VOLTAGE-AUTH":t,"Access-Control-Allow-Origin":"true"},c={network:"testnet",purchased_type:"ondemand",type:"standard",name:n,settings:{alias:n,autocompaction:!1,autopilot:!1,color:"#EF820D",grpc:!0,keysend:!0,rest:!0,whitelist:["1.2.3.4"],wumbo:!0}},e.next=8,k("POST","https://api.voltage.cloud/node/create",c,i);case 8:d=e.sent,u=d.node_id,m=d.api_endpoint,console.log("Created the node: "+u);case 12:return x={node_id:u},e.next=15,k("POST","https://api.voltage.cloud/node",x,i);case 15:return g=e.sent,l=g.status,a=g.api_endpoint,console.log("Found node's status of "+l),e.next=21,new Promise((function(e){return setTimeout(e,5e3)}));case 21:if("waiting_init"!==l){e.next=12;break}case 22:return e.next=24,k("GET","https://"+a+":8080/v1/genseed",{},{});case 24:return d=e.sent,f=d.cipher_seed_mnemonic,console.log("Got seed phrase: "+f),console.log("Initializing wallet with password: "+r),p={wallet_password:j.from(r).toString("base64"),cipher_seed_mnemonic:f,stateless_init:!0},e.next=31,k("POST","https://"+a+":8080/v1/initwallet",p,{});case 31:return d=e.sent,b=d.admin_macaroon,console.log("Got Node's Macaroon: "+b),y=v().AES.encrypt(j.from(f.join(",")).toString("base64"),r).toString(),N=v().AES.encrypt(b,r).toString(),w={node_id:u,macaroon:N,name:"admin"},e.next=39,k("POST","https://api.voltage.cloud/node/macaroon",w,i);case 39:return d=e.sent,console.log("Uploaded macaroon"),C={node_id:u,seed:y},e.next=44,k("POST","https://api.voltage.cloud/node/upload_seed",C,i);case 44:return d=e.sent,console.log("Uploaded seed"),console.log("Successfully created your node!"),S=v().enc.Base64.parse(b).toString(v().enc.Hex),console.log("Grabbing the TLS cert for newly created node."),D={node_id:u},e.next=52,k("POST","https://api.voltage.cloud/node/cert",D,i);case 52:d=e.sent,P=v().enc.Base64.parse(d.tls_cert).toString(v().enc.Hex),s({nodeName:n,apiEndpoint:m,hexMacaroon:S,tlsCert:P}),e.next=61;break;case 57:e.prev=57,e.t0=e.catch(0),console.log("Unable to create your node: ",e.t0),o(e.t0);case 61:case"end":return e.stop()}}),e,null,[[0,57]])})))));case 1:case"end":return e.stop()}}),e)}))),k=function(e,t,n,r){return new Promise((function(s,o){b()({method:e,url:t,headers:r,data:n}).then((function(e){var t=e.data;s(t)})).catch((function(e){console.log(e),o(e)}))}))},S=n(58057),D=n(68163),P=n(33772),A=n(35079),I=n(11355),T=n(91013),O=n(63205);function F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var L=function(e){var t=e.selected,n=e.setSelected;return(0,r.jsx)(A.R,{value:t,onChange:n,children:function(e){var n=e.open;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.R.Label,{className:"block text-sm font-medium text-gray-700",children:"Select Your Relay"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[(0,r.jsxs)(A.R.Button,{className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,r.jsx)("span",{className:"block truncate",children:t}),(0,r.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,r.jsx)(T.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),(0,r.jsx)(I.u,{show:n,as:s.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(A.R.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:O.Q8.map((function(e,t){return(0,r.jsx)(A.R.Option,{className:function(e){return F(e.active?"text-white bg-primary":"text-gray-900","cursor-default select-none relative py-2 pl-8 pr-4")},value:e,children:function(t){var n=t.selected,s=t.active;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:F(n?"font-semibold":"font-normal","block truncate"),children:e}),n?(0,r.jsx)("span",{className:F(s?"text-white":"text-indigo-600","absolute inset-y-0 left-0 flex items-center pl-1.5"),children:(0,r.jsx)(S.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},t)}))})})]})]})}})},U=n(46249),E=n(96787),_=n(91131),M=n(37328);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(s)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Z=function(){var e,t=(0,g.r)().data,n=(0,U.LU)().data,o=(0,g.V)().mutate,i=(0,U.d3)().mutate,a=R((0,_.KO)(E.Dm),1)[0],l=(0,s.useState)(""),c=l[0],d=l[1],f=(0,s.useState)(""),h=f[0],p=f[1],b=(0,s.useState)(""),y=b[0],v=b[1],j=(0,s.useState)(!1),N=j[0],w=j[1],k=(0,s.useState)(O.Q8[0]),A=k[0],I=k[1],T=(0,s.useState)(!1),F=T[0],Z=T[1],H=(0,s.useState)(""),V=H[0],z=H[1],B=(0,s.useState)(""),K=B[0],J=B[1],G=(0,s.useState)(""),Q=G[0],X=G[1],Y=(0,s.useState)(!1),q=Y[0],W=Y[1],$=(0,s.useState)(!1),ee=$[0],te=$[1],ne=(0,s.useState)(!1),re=ne[0],se=ne[1],oe=(0,s.useState)(""),ie=oe[0],ae=oe[1],le=(0,s.useState)(""),ce=le[0],de=le[1],ue=(0,s.useState)(""),me=ue[0],xe=ue[1],ge=(0,s.useState)(""),fe=ge[0],he=ge[1],pe=(0,s.useState)(""),be=pe[0],ye=pe[1],ve=(0,s.useState)(""),je=ve[0],Ne=ve[1],we=(0,s.useState)(""),Ce=we[0],ke=we[1],Se=(0,s.useState)(!0),De=Se[0],Pe=Se[1],Ae=(0,s.useState)(!0),Ie=Ae[0],Te=Ae[1],Oe=function(){te(!1),se(!1),p(""),d(""),v(""),X("")},Fe=function(){return ie&&ce&&me&&(be||Ce)&&(fe||je)},Le=function(){console.log("Updating lightning configuration ..."),Fe?(o({config:{ip:ie,port:ce,pubkey:me,tlsCert:De?be:"",tlsCertHex:De?"":Ce,adminMacaroon:Ie?fe:"",adminMacaroonHex:Ie?"":je,listening:!0}}),Z(!F),w(!0)):x.Am.error("Unable to update lightning configuration. Missing required fields.")},Ue=function(){var e=a.service,t=e.findIndex((function(e){return e.serviceEndpoint.includes("lightning:")}));t>-1&&e.splice(t,1);me.length>0&&function(t){var n=e.length,r={id:"#DidCommMessaging-".concat(n>0?n+1:1),priority:n,recipientKeys:[],routingKeys:[],serviceEndpoint:t,type:"DidCommMessaging"};e.push(r)}("lightning:".concat(me));var r=n;r.service=e,i(JSON.stringify(r)),ae(""),de(""),xe(""),ye(""),ke(""),Ne(""),he(""),w(!1)};return(0,r.jsxs)("div",{className:"max-w-3xl mx-auto py-10 px-4 sm:px-6 lg:py-12 lg:px-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-blue-gray-900",children:"Relay & Lightning"}),(0,r.jsxs)("form",{className:"mt-6 space-y-8 divide-y divide-y-blue-gray-200",children:[(0,r.jsxs)("div",{className:"pt-8 grid grid-cols-1 gap-y-6 sm:grid-cols-6 sm:gap-x-6",children:[(0,r.jsxs)("div",{className:"sm:col-span-6 space-y-3",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Manage Your Relay"}),(0,r.jsx)("div",{className:"space-y-3",children:(0,r.jsx)(L,{selected:A,setSelected:I})}),(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Register with Relay"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-gray-500",children:"Register with a new relay or reregister with an existing relay, in the event of service interruption."}),(0,r.jsx)("button",{type:"button",onClick:function(){(0,M.Ws)(A).then((function(){return x.Am.info("Registered with relay.")})).catch((function(e){x.Am.error("Unable to register with relay."),console.log(e)}))},className:"mt-3 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Register"}),(0,r.jsx)("div",{className:"relative py-6",children:(0,r.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-300"})})})]}),(0,r.jsxs)("div",{className:"sm:col-span-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Manage Your Lightning Node"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-gray-500",children:"This information will be displayed publicly so be careful what you share."}),(null===t||void 0===t?void 0:t.data.lightningConfig.listening)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-gray-500",children:"A lightning node is current configured to listen."}),(0,r.jsxs)("p",{className:"mt-1 text-sm font-semibold text-blue-gray-500",children:["Existing LN Pubkey: ",null===t||void 0===t?void 0:t.data.lightningConfig.pubkey]}),(null===(e=JSON.stringify(null===n||void 0===n?void 0:n.service))||void 0===e?void 0:e.includes(null===t||void 0===t?void 0:t.data.lightningConfig.pubkey))&&(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-gray-500",children:"This node is already listed in your did."})]}),(0,r.jsx)("button",{type:"button",onClick:function(){return Z(!F)},className:"mt-3 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Update Lightning Settings"}),F&&(0,r.jsxs)(r.Fragment,{children:[(null===t||void 0===t?void 0:t.data.lightningConfig.listening)&&(0,r.jsxs)("div",{className:"space-y-3 py-4",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Remove Lightning Node"}),(0,r.jsx)("p",{className:"mt-1 mb-2 text-sm text-blue-gray-500",children:"Remove the existing lightning node configuration by pressing the button below. You can always add the lightning node back at any point."}),(0,r.jsx)("button",{type:"button",onClick:function(){(0,x.Am)((function(e){var t=e.closeToast;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"pb-4",children:"Are you sure you want to remove this lightning configuration?"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){o({config:{ip:"",port:"",pubkey:"",tlsCert:"",tlsCertHex:"",adminMacaroon:"",adminMacaroonHex:"",listening:!1}}),t()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Remove"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})}),{autoClose:!1})},className:"mt-3 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Remove Lightning Node"})]}),(0,r.jsxs)("div",{className:"space-y-3 py-4",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Build a Lightning Node"}),(0,r.jsx)("p",{className:"mt-1 mb-2 text-sm text-blue-gray-500",children:"Don't have a lightning node already? Impervious supports creating a Voltage Lightning Node via the Voltage API. To get started, supply a Voltage API Key and Node Password and we will handle the rest."}),(0,r.jsx)("a",{href:"https://voltage.cloud/",className:"text-sm text-primary",children:"Head over to voltage.cloud if you do not have an API key."}),ee&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(S.Z,{className:"h-5 w-5 text-green-400","aria-hidden":"true"}),(0,r.jsx)("p",{className:"mt-1 text-md font-semibold text-gray-800",children:"Voltage Node Created!"})]}),(0,r.jsxs)("div",{className:"w-full break-words",children:[(0,r.jsxs)("p",{children:["Your Voltage Node has been created. The following is your Voltage Node Configuration Information, use these values to update your Lightning Configuration. Click the values below to copy to clipboard."," "]}),(0,r.jsx)(m.CopyToClipboard,{text:h,onCopy:function(){return x.Am.success("Seed Copied")},children:(0,r.jsxs)("p",{className:"my-2",children:[(0,r.jsx)("b",{children:"Voltage Node Name: (Click to Copy)"})," ",h]})}),(0,r.jsx)(m.CopyToClipboard,{text:y,onCopy:function(){return x.Am.success("Seed Copied")},children:(0,r.jsxs)("p",{className:"my-2",children:[(0,r.jsx)("b",{children:"Voltage Endpoint: (Click to Copy)"})," ",y]})}),(0,r.jsx)(m.CopyToClipboard,{text:c,onCopy:function(){return x.Am.success("Macaroon Copied!")},children:(0,r.jsxs)("p",{className:"my-2",children:[(0,r.jsx)("b",{children:"Admin Macaroon (Hex): (Click to Copy)"})," ",c]})}),(0,r.jsx)(m.CopyToClipboard,{text:Q,onCopy:function(){return x.Am.success("Macaroon Copied!")},children:(0,r.jsxs)("p",{className:"my-2",children:[(0,r.jsx)("b",{children:"TLS Cert (Hex): (Click to Copy)"})," ","".concat(Q.substring(0,100),"............").concat(Q.slice(-100))]})}),(0,r.jsx)("button",{type:"button",onClick:function(){return Oe()},className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Good to go. Clear values."})]})]}),re&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(D.Z,{className:"h-5 w-5 text-red-400","aria-hidden":"true"}),(0,r.jsx)("p",{className:"mt-1 text-md font-semibold text-gray-800",children:"Error occured while creating voltage node."})]})}),q?(0,r.jsx)("div",{children:"Creating Voltage Node ..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700",children:"Supply Voltage API Key"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"endpoint",id:"endpoint",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Voltage API Key",value:V,onChange:function(e){return z(e.target.value)}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700",children:"Supply Voltage Node Password"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"password",name:"nodePassword",id:"nodePassword",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Password",value:K,onChange:function(e){return J(e.target.value)}})})]}),K&&V&&(0,r.jsx)("button",{type:"button",onClick:function(){return function(){W(!0),Oe();var e="impervious-node-".concat(u()().unix());C(V,e,K).then((function(e){var t=e.nodeName,n=e.apiEndpoint,r=e.hexMacaroon,s=e.tlsCert;W(!1),te(!0),console.log("NODE CREATED"),d(r),v(n),p(t),X(s),Pe(!1),Te(!1),ae(n),de("10009"),Ne(r),setTlsCertHex(s)})).catch((function(e){W(!1),se(!0),console.log("NODE CREATION FAILED: ",e)}))}()},className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create a Voltage Lightning Node"})]})]}),(0,r.jsxs)("div",{className:"space-y-3 py-4",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Import a Lightning Node"}),(0,r.jsx)("p",{className:"mt-1 mb-2 text-sm text-blue-gray-500",children:"If you already have a running lightning node, or just created one above, enter the configuration information below and Impervious will configure itself to use the given lightning node. Note: This restarts the Impervious daemon services and the application will experience a reboot."}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ip",className:"block text-sm font-medium text-gray-700",children:"Supply Lightning Endpoint Address"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"ip",id:"ip",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"IP or URI (i.e. xxxxx.t.voltageapp.io)",value:ie,onChange:function(e){return ae(e.target.value)}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"port",className:"block text-sm font-medium text-gray-700",children:"Supply Lightning Port (GRPC)"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"port",id:"port",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Port",value:ce,onChange:function(e){return de(e.target.value)}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"pubkey",className:"block text-sm font-medium text-gray-700",children:"Supply Lightning Pubkey"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"pubkey",id:"pubkey",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Pubkey",value:me,onChange:function(e){return xe(e.target.value)}})})]}),(0,r.jsxs)("span",{className:"relative z-0 inline-flex shadow-sm rounded-md",children:[(0,r.jsx)("button",{type:"button",onClick:function(){return Pe(!0)},className:"relative inline-flex items-center px-4 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Use TLS Filepath"}),(0,r.jsx)("button",{type:"button",onClick:function(){return Pe(!1)},className:"-ml-px relative inline-flex items-center px-4 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Use TLS Hex String"})]}),De?(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"tls",className:"block text-sm font-medium text-gray-700",children:"Supply File Path to Lightning TLS Cert"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"tls",id:"tls",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Provide full path to TLS Cert",value:be,onChange:function(e){return ye(e.target.value)}})})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"tls",className:"block text-sm font-medium text-gray-700",children:"Supply Lightning TLS Cert (Hex String)"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"tls",id:"tls",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"TLS Cert (Hex)",value:Ce,onChange:function(e){return ke(e.target.value)}})})]}),(0,r.jsxs)("span",{className:"relative z-0 inline-flex shadow-sm rounded-md",children:[(0,r.jsx)("button",{type:"button",onClick:function(){return Te(!0)},className:"relative inline-flex items-center px-4 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Use Macaroon Filepath"}),(0,r.jsx)("button",{type:"button",onClick:function(){return Te(!1)},className:"-ml-px relative inline-flex items-center px-4 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Use Macaroon Hex String"})]}),Ie?(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"macaroon",className:"block text-sm font-medium text-gray-700",children:"Supply File Path to Admin Macaroon"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"macaroon",id:"macaroon",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Provide full path to Admin Macaroon",value:fe,onChange:function(e){return he(e.target.value)}})})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"macaroon",className:"block text-sm font-medium text-gray-700",children:"Supply Admin Macaroon (Hex String)"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{type:"text",name:"macaroon",id:"macaroon",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-2 border-gray-300 rounded-md px-10 py-2 text-center",placeholder:"Macaroon (Hex)",value:je,onChange:function(e){return Ne(e.target.value)}})})]}),(0,r.jsx)("button",{type:"button",onClick:function(){return Le()},className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Update Lightning Configuration"})]})]})]})]}),N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"rounded-md bg-yellow-50 p-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(P.Z,{className:"h-5 w-5 text-yellow-400","aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Change detected! Do you want to update your DID?"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,r.jsxs)("p",{children:["Since you have changed your connection endpoints (relay or lightning), if you want users to be able to contact you over these channels you will need to"," ",(0,r.jsx)("b",{children:"update your did"}),". Click the button below to update your did."]})})]})]})}),(0,r.jsxs)("div",{className:"pt-8 flex justify-end",children:[(0,r.jsx)("button",{type:"button",onClick:function(){return w(!1)},className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-blue-gray-900 hover:bg-blue-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Do Not Update"}),(0,r.jsx)("button",{type:"button",onClick:function(){(0,x.Am)((function(e){var t=e.closeToast;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Are you sure you want to update your DID?"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){Ue(),t()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Confirm"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})}),{autoClose:!1})},className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Update DID"})]})]})]})]})},H=n(88100),V=n(37887),z=n(50319),B=n(31230),K=n(24796),J=n(60949),G=n(75426),Q=n(89531);function X(e,t,n,r,s,o,i){try{var a=e[o](i),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,s)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function i(e){X(o,r,s,i,a,"next",e)}function a(e){X(o,r,s,i,a,"throw",e)}i(void 0)}))}}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(s)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var W=function(e){e.longFormDid;var t=q((0,_.KO)(E._$),2),n=t[0],o=t[1],i=(0,H.D3)().user,a=(0,U.LU)().data,l=q((0,_.KO)(E.UX),1)[0],c=(0,V.a)(K.bk,{variables:{username:null===i||void 0===i?void 0:i.nickname}}),d=c.data,u=c.loading;c.error,(0,s.useEffect)((function(){var e,t;(null===d||void 0===d||null===(e=d.listDIDS)||void 0===e||null===(t=e.items)||void 0===t?void 0:t.length)>0?o(d.listDIDS.items[0]):o("")}),[d,o]);var m=q((0,z.D)((0,B.Ps)(J.a),{variables:{input:{longFormDid:l,shortFormDid:null===a||void 0===a?void 0:a.id,username:null===i||void 0===i?void 0:i.nickname,avatarUrl:null===i||void 0===i?void 0:i.picture,name:null===i||void 0===i?void 0:i.nickname,lastUpdated:(new Date).getTime(),profileType:"twitter"}},refetchQueries:[{query:K.bk},"getDIDByTwitter"]}),1)[0],g=q((0,z.D)((0,B.Ps)(J.JZ),{variables:{input:{longFormDid:l,shortFormDid:null===a||void 0===a?void 0:a.id,username:null===i||void 0===i?void 0:i.nickname,avatarUrl:null===i||void 0===i?void 0:i.picture,name:null===i||void 0===i?void 0:i.nickname,lastUpdated:(new Date).getTime(),profileType:"twitter"}},refetchQueries:[{query:K.bk},"getDIDByTwitter"]}),1)[0],f=q((0,z.D)((0,B.Ps)(J.gL),{variables:{input:{shortFormDid:n.shortFormDid,username:n.username}},refetchQueries:[{query:K.bk},"getDIDByTwitter"]}),1)[0];if(u)return"Loading ...";var p=Y(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i&&(n?(0,x.Am)((function(e){var t=e.closeToast;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"pb-4",children:"Are you sure you want to update your published DID?"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){try{i&&g().then((function(){x.Am.success("DID Sucessfully Updated!")})).catch((function(e){x.Am.error("Unable to update DID. Please try again"),console.error(e)}))}catch(e){console.log(e)}t()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Confirm"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})}),{autoClose:!1}):(0,x.Am)((function(e){var t=e.closeToast;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"pb-4",children:"Are you sure you want to update your published DID?"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){try{i&&m().then((function(e){e.data,x.Am.success("DID Published Successfuly")})).catch((function(e){console.log(e),x.Am.error("Unable to publish DID. Please try again")}))}catch(e){console.log(e)}t()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Confirm"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})}),{autoClose:!1}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)}))),b=Y(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,x.Am)((function(e){var t=e.closeToast;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"pb-4",children:"Unpublish?"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){try{i&&f().then((function(){x.Am.success("DID Sucessfully Unpublished!")})).catch((function(e){x.Am.error("Unable to publish DID. Please try again"),console.error(e)}))}catch(e){console.log(e)}t()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Confirm"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})}),{autoClose:!1});case 1:case"end":return e.stop()}}),e)})));return u?"Loading ...":(0,r.jsx)("div",{children:(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md mt-4",children:(0,r.jsx)("ul",{role:"list",className:"divide-y divide-gray-200",children:(0,r.jsx)("li",{children:(0,r.jsx)("div",{className:"flex items-center px-4 py-4 sm:px-6 content-between",children:(0,r.jsxs)("div",{className:"w-full flex justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[n&&(0,r.jsx)("img",{className:"inline-block h-8 w-8 rounded-full",src:n.avatarUrl,alt:""}),(0,r.jsx)("p",{className:"font-semi-bold text-md",children:"Identity"}),n?(0,r.jsxs)("p",{className:"flex items-center text-sm text-gray-500",children:[(0,r.jsx)(G.Z,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-green-400","aria-hidden":"true"}),"Published"]}):(0,r.jsxs)("p",{className:"flex items-center text-sm text-gray-500",children:[(0,r.jsx)(Q.Z,{className:"flex-shrink-0 mr-1.5 h-5 w-5","aria-hidden":"true"}),"Private"]})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[n&&(0,r.jsx)("button",{type:"button",className:"text-red-500",onClick:function(){return b()},children:"Unpublish"}),(0,r.jsx)("button",{type:"button",onClick:function(){return p()},className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n?"Update":"Publish"})]})]})})})})})})})},$=n(46215);function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(s)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var te=function(){var e=(0,s.useState)(""),t=(e[0],e[1],(0,U.LU)().data,(0,H.D3)()),n=t.isAuthenticated,o=t.user,i=ee((0,_.KO)(E.UX),1)[0];return(0,r.jsxs)("div",{className:"max-w-3xl mx-auto py-10 px-4 sm:px-6 lg:py-12 lg:px-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-blue-gray-900 pb-5",children:"Identity"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-y-6 sm:grid-cols-6 sm:gap-x-6",children:[(0,r.jsxs)("div",{className:"sm:col-span-6",children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"Profile"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-gray-500",children:"Manage your decentalized identity."})]}),o?(0,r.jsxs)("div",{className:"sm:col-span-6",children:[(0,r.jsxs)("p",{htmlFor:"photo",className:"block text-xl font-medium text-blue-gray-900 pb-4",children:["Signed into Twitter:"," "]}),(0,r.jsxs)("span",{children:[(0,r.jsx)("img",{className:"inline-block h-8 w-8 rounded-full",src:o.picture,alt:""}),(0,r.jsxs)("a",{href:"https://twitter.com/".concat(o.nickname),rel:"noreferrer",target:"_blank",className:"text-blue-500 pl-2 text-xl",children:["@",o.nickname]})]})]}):(0,r.jsxs)("div",{className:"sm:col-span-6",children:[(0,r.jsx)("label",{htmlFor:"photo",className:"block text-xl font-medium text-blue-gray-900",children:"Avatar"}),(0,r.jsx)("p",{className:"mt-1 text-md text-blue-gray-500",children:"Here is your avatar, you can rotate your avatar at any time."}),(0,r.jsx)($.Z,{})]}),(0,r.jsxs)("div",{className:"sm:col-span-6",children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-blue-gray-900",children:"Decentralized Identity"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("p",{className:"mt-1 text-sm font-medium text-blue-gray-900 pb-4",children:"This is your Long Form Decentralized Identity that you share with your connections"}),(0,r.jsx)("textarea",{id:"description",name:"description",disabled:!0,rows:4,className:"block w-full p-4 border border-blue-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-primary focus:border-blue-500",defaultValue:i})]})]}),n&&(0,r.jsxs)("div",{className:"sm:col-span-6",children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-xl font-medium text-blue-gray-900",children:"Publish to Impervious Contacts Registry"}),(0,r.jsx)("p",{className:"mt-1 text-md font-medium text-blue-gray-900",children:"You can publish your Identity to the Impervious Contacts Registry. Peers can search for your Twitter username in the Registry to find your latest Identity."}),(0,r.jsx)(W,{})]})]})]})},ne=n(73933),re=n(73210);function se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var oe=function(){var e=(0,re.p)().data,t=(0,re.Q)().mutate;return(0,r.jsxs)("div",{className:"max-w-3xl mx-auto py-10 px-4 sm:px-6 lg:py-12 lg:px-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-blue-gray-900 pb-5",children:"Messaging"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium text-blue-gray-900",children:"General"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-blue-gray-500",children:"Manage your messaging settings."})]}),(0,r.jsx)("div",{children:e&&(0,r.jsx)("ul",{role:"list",className:"mt-2 divide-y divide-gray-200",children:(0,r.jsxs)(ne.r.Group,{as:"li",className:"flex items-center justify-between py-4",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)(ne.r.Label,{as:"p",className:"text-md font-medium text-gray-900",passive:!0,children:["Open Messaging"," ",e.messages.openInbox?(0,r.jsx)("span",{className:"pl-4 font-bold text-lg text-indigo-600",children:"Open"}):(0,r.jsx)("span",{className:"pl-4 font-bold text-lg text-indigo-600",children:"Closed"})]}),(0,r.jsx)(ne.r.Description,{className:"text-md text-gray-500 pt-2",children:'With open messaging enabled, you will recieve messages from any contact. Toggle open messaging to "Closed" to only receive messages from saved contacts.'})]}),(0,r.jsx)(ne.r,{checked:e.messages.openInbox,onChange:function(n){return function(n){var r=e;r.messages.openInbox=n,t({key:"settings",value:JSON.stringify(r)})}(n)},className:se(e.messages.openInbox?"bg-primary":"bg-gray-200","mx-4 relative ml-4 inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"),children:(0,r.jsx)("span",{"aria-hidden":"true",className:se(e.messages.openInbox?"translate-x-5":"translate-x-0","inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})})]})})})]})]})},ie=n(55950),ae=JSON.stringify({messages:{openInbox:!0}}),le=[{name:"Relay & Lightning",description:"Manage your relay node.",href:"#",icon:o.Z,current:!1},{name:"Identity",description:"Manage your decentralized settings",href:"#",icon:i.Z,current:!1},{name:"Messaging",description:"Manage your messaging settings",href:"#",icon:a.Z,current:!1}];function ce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function de(){var e=(0,s.useState)("Relay & Lightning"),t=e[0],n=e[1],o=(0,re.p)().data;return(0,s.useEffect)((function(){o||(0,ie.rV)("settings").then((function(e){if(!e.data.value)return console.log("no settings found. need to set a boilerplate settings template"),(0,ie.LS)({key:"settings",value:ae})})).catch((function(){return"Unable to set initial settings: "}))}),[o]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.Z,{currentPage:"Settings",children:(0,r.jsx)("main",{className:"flex-1 flex overflow-hidden h-full",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-y-auto xl:overflow-hidden",children:[(0,r.jsx)("nav",{"aria-label":"Breadcrumb",className:"bg-white border-b border-blue-gray-200 xl:hidden",children:(0,r.jsx)("div",{className:"max-w-3xl mx-auto py-3 px-4 flex items-start sm:px-6 lg:px-8",children:(0,r.jsxs)("a",{href:"#",className:"-ml-1 inline-flex items-center space-x-3 text-sm font-medium text-blue-gray-900",children:[(0,r.jsx)(l.Z,{className:"h-5 w-5 text-blue-gray-400","aria-hidden":"true"}),(0,r.jsx)("span",{children:"Settings"})]})})}),(0,r.jsxs)("div",{className:"flex-1 flex xl:overflow-hidden",children:[(0,r.jsx)("nav",{"aria-label":"Sections",className:"hidden flex-shrink-0 w-80 bg-white border-r border-blue-gray-200 xl:flex xl:flex-col",children:(0,r.jsx)("div",{className:"flex-1 min-h-0 overflow-y-auto",children:le.map((function(e){return(0,r.jsxs)("div",{onClick:function(){return n(e.name)},className:ce(e.current?"bg-blue-50 bg-opacity-50":"hover:bg-blue-50 hover:bg-opacity-50","flex p-6 border-b border-blue-gray-200"),"aria-current":e.current?"page":void 0,children:[(0,r.jsx)(e.icon,{className:"flex-shrink-0 -mt-0.5 h-6 w-6 text-blue-gray-400","aria-hidden":"true"}),(0,r.jsxs)("div",{className:"ml-3 text-sm",children:[(0,r.jsx)("p",{className:"font-medium text-blue-gray-900",children:e.name}),(0,r.jsx)("p",{className:"mt-1 text-xs text-blue-gray-500",children:e.description})]})]},e.name)}))})}),(0,r.jsxs)("div",{className:"flex-1 xl:overflow-y-auto",children:["Relay & Lightning"===t&&(0,r.jsx)(Z,{}),"Identity"===t&&(0,r.jsx)(te,{}),"Messaging"===t&&(0,r.jsx)(oe,{})]})]})]})})})})}},42480:function(){}},function(e){e.O(0,[774,445,13,270,383,478,576,888,179],(function(){return t=3402,e(e.s=t);var t}));var t=e.O();_N_E=t}]);