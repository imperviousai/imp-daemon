(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[783],{7309:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/d/meeting",function(){return n(45392)}])},51079:function(e,t,n){"use strict";var r=n(85893),a=n(67294),i=n(42633);t.Z=function(e){var t=e.setFile,n=e.disabled,s=(0,a.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{type:"button",onClick:function(e){s.current.click()},children:(0,r.jsx)(i.Z,{className:"h-10 w-10 text-gray-600 font-light","aria-hidden":"true"})}),(0,r.jsx)("input",{type:"file",ref:s,onChange:function(e){t(e.target.files[0]),s.current.value=null},style:{display:"none"},disabled:n})]})}},45192:function(e,t,n){"use strict";var r=n(85893),a=(n(67294),n(68163)),i=n(86588),s=n(13902),o=n(40782);t.Z=function(e){var t,n=e.fileInput,l=e.setFileInput,c=e.progress,u=function(){return l()};return(0,r.jsxs)("div",{children:[" ",(0,r.jsx)("div",{className:"my-3 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden",children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-0 flex-1 flex justify-between",children:(0,r.jsxs)("p",{className:"w-0 flex-1 text-sm font-medium text-gray-900",children:[n.name," ",(0,r.jsxs)("span",{className:"font-light text-gray-500",children:["(",n.size," bytes)"]})]})}),(0,r.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:t>0?(0,r.jsx)(i.gy,{height:"20",width:"20",color:"#312e81",ariaLabel:"loading"}):n.isError?(0,r.jsx)(s.Z,{onClick:function(){o.Am.error("Unable to upload file. Please try again."),u(file.id)},className:"h-6 w-6 text-red-600","aria-hidden":"true"}):(0,r.jsxs)("button",{type:"button",className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:function(){return u()},children:[(0,r.jsx)("span",{className:"sr-only",children:"Close"}),(0,r.jsx)(a.Z,{className:"h-5 w-5","aria-hidden":"true"})]})})]}),c>0&&(0,r.jsx)("div",{className:"flex items-center pt-2",children:(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full dark:bg-gray-700 mx-20",children:(0,r.jsxs)("div",{className:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full",style:{width:"".concat(Math.floor(c),"%")},children:[" ",Math.floor(c),"%"]})})})]})})]})}},59758:function(e,t,n){"use strict";var r=n(85893),a=(n(67294),n(42833)),i=n(63090),s=n(93162);t.Z=function(e){var t=e.message,n=e.myDid,o=e.fileObj;return(0,r.jsx)("div",{className:"bg-white px-4 py-5 border-2 border-gray-200 rounded-lg sm:px-6 mt-6",children:(0,r.jsxs)("div",{className:"-ml-4 -mt-4 flex justify-between items-center flex-wrap sm:flex-nowrap",children:[(0,r.jsx)("div",{className:"ml-4 mt-4",children:(0,r.jsx)("div",{className:"flex space-x-2 items-center",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("h3",{className:"text-md leading-6 break-all font-medium text-gray-900",children:t.data?t.data.name:"No File Name"}),(0,r.jsx)("p",{className:"mt-1 text-sm font-light text-gray-500",children:t.data&&"(".concat(t.data.size," bytes)")})]})})}),(0,r.jsx)("div",{className:"ml-4 mt-4 flex-shrink-0",children:t.from!==n&&(0,r.jsx)("button",{type:"button",onClick:function(){return function(){var e=t.data,n=e.id,r=e.name,a=e.type;o?(0,s.saveAs)(o,r):(0,i.X$)("file-download-request",{id:n,name:r,type:a})}()},className:"relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-black",children:(0,r.jsx)(a.Z,{className:"h-6 w-6","aria-hidden":"true"})})})]})})}},40532:function(e,t,n){"use strict";var r=n(85893),a=n(67294),i=n(11355),s=n(82546),o=n(86588);t.Z=function(e){var t=e.open,n=e.setOpen,l=e.progress;e.error;return(0,r.jsx)(i.u.Root,{show:t,as:a.Fragment,children:(0,r.jsxs)(s.V,{as:"div",className:"relative z-10",onClose:n,children:[(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-25 transition-opacity"})}),(0,r.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,r.jsx)(s.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-gray-100",children:(0,r.jsx)(o.gy,{height:"40",width:"40",color:"#312e81",ariaLabel:"loading"})}),(0,r.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,r.jsx)(s.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Transferring file. Do not close."}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Peer to peer file transfer in progress. It make take some time for the recipient to retrieve the file (est. 1 min)."}),l>0&&(0,r.jsx)("div",{className:"flex items-center pt-2",children:(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full dark:bg-gray-700 mx-20",children:(0,r.jsxs)("div",{className:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full",style:{width:"".concat(Math.floor(l),"%")},children:[" ",Math.floor(l),"%"]})})}),100===l&&(0,r.jsx)("div",{className:"mt-5 sm:mt-6",children:(0,r.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm",onClick:function(){return n(!1)},children:"File Transfer Complete!"})})]})]})]})})})})})]})})}},49332:function(e,t,n){"use strict";var r=n(67294);t.Z=function(e,t){(0,r.useEffect)((function(){if(e){e.style.height="40px",e.style.minHeight="40px";var t=e.scrollHeight;e.style.height=t+"px"}}),[e,t])}},45392:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var r=n(85893),a=n(67294),i=n(11355),s=n(82546),o=n(5506),l=function(){return(0,r.jsxs)("div",{className:"flex flex-row w-full h-full justify-between",children:[(0,r.jsx)("div",{})," ",(0,r.jsx)("div",{className:"flex justify-items-center",children:(0,r.jsx)("span",{className:"inline-flex items-center text-sm text-primary font-semibold font-medium",children:"Chat"})}),(0,r.jsx)("div",{})," "]})},c=n(30381),u=n.n(c),d=n(59758),f=n(6218),m=function(e){var t=e.myDid,n=e.messages,i=e.setHasUnreadVideoMessages,s=(0,a.useRef)(null),o=(0,f.ff)().data;(0,a.useEffect)((function(){var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[n]),(0,a.useEffect)((function(){n.length&&i(!1)}),[n,i]);var l=function(e){var t=null===o||void 0===o?void 0:o.data.contacts.find((function(t){return t.did===e}));return t?"".concat(t.name,": "):""};return(0,r.jsxs)("div",{className:"flex flex-col w-full h-full overflow-y-auto",children:[n.map((function(e,n){return(0,r.jsx)("div",{children:"file-transfer-done"===e.type?(0,r.jsx)(d.Z,{message:e,myDid:t}):(0,r.jsx)("div",{className:"flex py-1 ".concat(e.from===t?"pl-4 flex-row-reverse":"pr-4"),children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"px-4 py-2 rounded-lg inline-block rounded-br-none whitespace-pre-line ".concat(e.from===t?"bg-primary bg-opacity-10 text-primary text-sm":"bg-secondary text-white text-sm"),children:e.data}),(0,r.jsx)("div",{className:"flex ".concat(e.from===t&&"flex-row-reverse"),children:(0,r.jsx)("p",{className:"text-primary opacity-80 text-xs",children:"".concat(l(e.from)).concat(u()(e.timestamp).fromNow())})})]})},n)},n)})),(0,r.jsx)("div",{ref:s})]})},p=n(35666),x=n.n(p);var v=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z",clipRule:"evenodd"}))})),h=n(40782),g=n(51079),b=n(45192),y=n(49332),w=n(72045),j=n(40532);function N(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,a)}var R=function(e){var t=e.sendPeerMessage,n=e.peers,i=65535,s=(0,a.useState)(""),o=s[0],l=s[1],c=(0,a.useState)(),u=c[0],d=c[1],f=(0,a.useState)(1),m=f[0],p=f[1],R=(0,a.useState)(),k=R[0],O=R[1],C=(0,a.useState)(0),S=C[0],E=C[1],T=(0,a.useState)(i),M=T[0],L=T[1],P=(0,a.useState)(0),F=P[0],I=P[1],z=(0,a.useState)(""),V=z[0],D=z[1],Z=(0,a.useState)(0),A=Z[0],_=Z[1],U=(0,a.useState)(0),B=U[0],H=U[1],K=(0,a.useState)(!1),Q=K[0],$=K[1],Y=(0,a.useRef)(null);(0,y.Z)(Y.current,o),(0,a.useEffect)((function(){A>0&&J(m)}),[k,F]);var G,W=(G=x().mark((function e(){var t,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(),$(!0),D((0,w.Z)()),e.next=5,u.arrayBuffer();case 5:t=e.sent,_(t.byteLength),n=t.byteLength%i==0?t.byteLength/i:Math.floor(t.byteLength/i)+1,H(n),O(t);case 10:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var a=G.apply(e,t);function i(e){N(a,n,r,i,s,"next",e)}function s(e){N(a,n,r,i,s,"throw",e)}i(void 0)}))}),J=function(){if(p(m+1),m<=B){var e=k.slice(S,M);if(t({id:V,data:e},"file-transfer-chunk"),E(M),L(M+i),m==B)console.log("Process is complete, counter",m),I(100),ee();else I(m/B*100)}},q=function(){I(0),p(1),E(0),L(i)},X=function(e){u&&te(),0!==n.length?(o.length>0&&t(o,"chat-message"),l("")):h.Am.error("Start a call with someone to use ephemeral chat.")},ee=function(){var e=u.name,n=u.type,r=u.size;console.log("File transfer is complete: ",u),t({name:e,type:n,size:r,id:V},"file-transfer-done"),d(),O(),$(!1),I(0)},te=function(){W()};return(0,r.jsxs)(r.Fragment,{children:[u&&(0,r.jsx)(b.Z,{fileInput:u,setFileInput:d,progress:F}),(0,r.jsxs)("div",{className:"flex flex-row w-full items-end",children:[(0,r.jsx)("textarea",{type:"text",name:"message",id:"message",ref:Y,className:"shadow-sm pl-2 pt-2 block w-full sm:text-sm border border-grey-100 rounded-md",placeholder:"Type message here ...",onKeyDown:function(e){e.shiftKey&&"Enter"===e.key?l("".concat(o)):"Enter"!==e.key||X()},value:o,onChange:function(e){"\n"!==e.target.value&&l(e.target.value)}}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(g.Z,{setFile:d}),(0,r.jsx)("button",{type:"button",onClick:function(){return X()},disabled:0===n.length,className:"mx-1",children:(0,r.jsx)(v,{className:"h-10 w-10 text-secondary","aria-hidden":"true"})})]}),(0,r.jsx)(j.Z,{open:Q,setOpen:$,progress:F})]})]})},k=n(91131),O=n(46249),C=n(82130),S=n(88247);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function T(e){var t=e.peers,n=e.openMessaging,c=e.toggleMessaging,u=e.id,d=(0,O.LU)().data,f=E((0,k.KO)(C.A2),1)[0],p=E((0,k.KO)(C.hi),2)[1],x=E((0,k.KO)(C.cN),2)[1];return(0,r.jsx)(i.u.Root,{show:n,as:a.Fragment,children:(0,r.jsx)(s.V,{as:"div",className:"fixed inset-0 overflow-hidden z-10",onClose:c,children:(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(s.V.Overlay,{className:"absolute inset-0 bg-gray-500 bg-opacity-10 transition-opacity"})}),(0,r.jsx)("div",{className:"fixed inset-y-0 right-0 pl-10 max-w-full flex",children:(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,r.jsxs)("div",{className:"relative w-96 max-w-full",children:[(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"absolute top-0 left-0 -ml-8 pt-4 pr-2 flex sm:-ml-10 sm:pr-4",children:(0,r.jsxs)("button",{type:"button",className:"rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:function(){return c()},children:[(0,r.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,r.jsx)(o.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})}),(0,r.jsxs)("div",{className:"h-full flex flex-col bg-white shadow-xl overflow-y-scroll",children:[(0,r.jsx)("div",{className:"grow-0 px-4 py-6 bg-gray-50 sm:px-6",children:(0,r.jsx)(l,{})}),(0,r.jsx)("div",{className:"grow h-full px-4 overflow-hidden",children:(0,r.jsx)(m,{messages:f,myDid:null===d||void 0===d?void 0:d.id,setHasUnreadVideoMessages:x})}),(0,r.jsx)("div",{className:"grow-0 px-4 border-t border-gray-200 py-4 sm:px-6",children:(0,r.jsx)(R,{peers:t,sendPeerMessage:function(e,n){if("file-transfer-chunk"!==n){var r={data:e,timestamp:(new Date).toString(),from:d.id,networkId:u,type:n};"chat-message"!==n&&"file-transfer-done"!==n||p(r),t.map((function(e){e.peer.write(JSON.stringify(r))}))}else{var a="".concat(e.id,":").concat((0,S.c)(e.data));t.map((function(e){e.peer.write(a)}))}}})})]})]})})})]})})})}function M(e){var t=e.openParticipants,n=e.toggleParticipants,l=e.peers,c=(e.id,(0,a.useState)(!1)),u=(c[0],c[1]);return(0,r.jsx)(i.u.Root,{show:t,as:a.Fragment,children:(0,r.jsx)(s.V,{as:"div",className:"fixed inset-0 overflow-hidden",onClose:n,children:(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(s.V.Overlay,{className:"absolute inset-0 bg-gray-500 bg-opacity-0 transition-opacity"})}),(0,r.jsx)("div",{className:"fixed inset-y-0 right-0 pl-10 max-w-full flex",children:(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,r.jsxs)("div",{className:"relative w-screen max-w-lg",children:[(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"absolute top-0 left-0 -ml-8 pt-4 pr-2 flex sm:-ml-10 sm:pr-4",children:(0,r.jsxs)("button",{type:"button",className:"rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:function(){return n()},children:[(0,r.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,r.jsx)(o.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})}),(0,r.jsxs)("div",{className:"h-full flex flex-col bg-white shadow-xl overflow-y-scroll",children:[(0,r.jsx)("div",{className:"grow-0 px-4 py-6 bg-gray-50 sm:px-6 flex justify-center",children:(0,r.jsx)("div",{className:"hidden sm:block flex space-x-4",children:(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)("p",{className:"px-3 py-2 font-medium text-sm rounded-md",children:"Participants"})})})}),(0,r.jsx)("div",{className:"grow px-4 h-full",children:(0,r.jsx)("div",{className:"flow-root mt-6",children:(0,r.jsx)("ul",{className:"-my-5 divide-y divide-gray-200 px-5",children:l.map((function(e,t){return(0,r.jsx)("li",{className:"py-3",children:(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.destDid})})})},t)}))})})}),(0,r.jsx)("div",{className:"grow-0 px-4 border-t border-gray-200 py-4 sm:px-6",children:(0,r.jsxs)("div",{className:"flex space-x-4 justify-center",children:[(0,r.jsx)("button",{type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Mute All"}),(0,r.jsx)("button",{onClick:function(){return u(!0)},type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Invite"})]})})]})]})})})]})})})}var L=n(78757);var P=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z",clipRule:"evenodd"}))}));var F=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z",clipRule:"evenodd"}))})),I=n(63750),z=n(89583),V=n(64449),D=n(18426),Z=n(19965),A=n(44156);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var U=function(e){var t=e.peer,n=(0,a.useRef)();return(0,a.useEffect)((function(){t.peer.on("stream",(function(e){n.current&&(n.current.srcObject=e)}))}),[t.peer]),(0,a.useEffect)((function(){t.peer._remoteStreams&&t.peer._remoteStreams.length>0&&(n.current.srcObject=t.peer._remoteStreams[0])}),[t.peer._remoteStreams]),(0,r.jsx)("div",{className:"flex justify-center bg-gray-100 rounded-lg m-2 px-2",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("video",{className:"h-full",playsInline:!0,ref:n,autoPlay:!0}),(0,r.jsx)("div",{className:"bg-gray-900 opacity-75 text-white rounded-md text-sm absolute bottom-0 left-0 px-4 m-2",children:t.metadata.contact.name})]})})},B=function(e){var t=e.toggleMessaging,n=e.peers,i=e.id,s=(0,a.useState)(!0),o=s[0],l=s[1],c=(0,a.useState)(!0),u=c[0],d=c[1],f=(0,a.useState)(!1),m=f[0],p=f[1],x=(0,a.useState)(!1),v=x[0],g=x[1],b=(0,a.useState)(!1),y=b[0],w=b[1],j=(0,a.useRef)(),N=_((0,k.KO)(C.g7),2),R=N[0],O=N[1],S=_((0,k.KO)(C.Vl),2),E=S[0],T=S[1],M=_((0,k.KO)(C.Uy),1)[0],B=_((0,k.KO)(C.cN),1)[0],H=(0,A.r)().data;(0,a.useEffect)((function(){Q()}),[Q]),(0,a.useEffect)((function(){0===n.length&&(null===R||void 0===R||R.getVideoTracks().forEach((function(e){e.enabled=!0})),l(!0),d(!0))}),[n,R]);var K,Q=(0,a.useCallback)((function(){return new Promise((function(e,t){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(t){j.current&&(j.current.srcObject=t),O(t),e(t)})).catch((function(e){console.log("Unable to capture video stream: ",e),h.Am.error("Unable to turn on audio and video. Please try again."),t(e)}))}))}),[O]),$=function(){null===R||void 0===R||R.getTracks().forEach((function(e){e.stop()})),O(),j.current.srcObject=void 0},Y=function(e){var t=e.getVideoTracks()[0];n.forEach((function(e){var n;(null===(n=e.peer._pc)||void 0===n?void 0:n.getSenders().find((function(e){return e.track.kind===t.kind}))).replaceTrack(t)})),p(!m)};return(0,r.jsxs)("div",{className:"bg-gray-50 w-full h-full flex items-center flex-col",children:[(0,r.jsx)("div",{className:"h-5/6 w-full pl-12 pr-12 mt-8",children:(0,r.jsxs)("div",{className:"grid w-full h-full ".concat((K=n.length,K<1?"":1===K?"grid-cols-2":K>1&&K<=3?"grid-cols-2 grid-rows-2":K>3&&K<=5?"grid-cols-3 grid-rows-2":K>5&&K<=7?"grid-cols-4 grid-rows-2":void 0)),children:[(0,r.jsx)("div",{className:"flex justify-center bg-gray-100 rounded-lg m-2 px-2 relative",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("video",{className:"h-full",playsInline:!0,muted:!0,ref:j,autoPlay:!0}),R&&(0,r.jsx)("div",{className:"bg-gray-900 opacity-75 text-white rounded-md text-sm absolute bottom-0 left-0 px-4 m-2",children:"You"})]})}),n.map((function(e,t){return(0,r.jsx)(U,{peer:e},t)}))]})}),(0,r.jsx)("div",{className:"absolute bottom-0 w-11/12 mb-4 px-6",children:(0,r.jsxs)("div",{className:"px-10 h-16 bg-black bg-opacity-40 inset-x-0 bottom-0 flex justify-between items-center rounded-lg",children:[(0,r.jsx)("div",{className:"flex space-x-4",children:(0,r.jsx)(r.Fragment,{children:R?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{type:"button",onClick:function(){return n.forEach((function(e){e.peer.streams.length>0&&e.peer.streams.forEach((function(e){e.getAudioTracks().length>0&&e.getAudioTracks().forEach((function(e){e.enabled=!o}))}))})),void l(!o)},className:"flex flex-col items-center px-2 py-2 text-sm leading-4 font-medium rounded-md text-gray-50 bg-opacity-100 hover:bg-opacity-20 hover:bg-gray-100",children:[o?(0,r.jsx)(I.fr_,{className:"mb-2 h-6 w-6","aria-hidden":"true"}):(0,r.jsx)(I.$Jr,{className:"mb-2 h-6 w-6","aria-hidden":"true"}),o?"Mute":"Unmute"]}),(0,r.jsxs)("button",{type:"button",onClick:function(){return n.forEach((function(e){e.peer.streams.length>0&&e.peer.streams.forEach((function(e){e.getVideoTracks().length>0&&e.getVideoTracks().forEach((function(e){e.enabled=!u}))}))})),void d(!u)},className:"flex flex-col items-center px-2 py-2 text-sm leading-4 font-medium rounded-md text-gray-50 bg-opacity-100 hover:bg-opacity-20 hover:bg-gray-100",children:[u?(0,r.jsx)(z.KoQ,{className:"mb-2 h-6 w-6","aria-hidden":"true"}):(0,r.jsx)(z.uCi,{className:"mb-2 h-6 w-6","aria-hidden":"true"}),u?"Stop Video":"Start Video"]}),0===n.length&&(0,r.jsxs)("button",{type:"button",onClick:function(){return $()},className:"flex flex-col items-center px-2 py-2 text-sm leading-4 font-medium rounded-md text-gray-50 bg-opacity-100 hover:bg-opacity-20 hover:bg-gray-100",children:[(0,r.jsx)(Z.Z,{className:"mb-2 h-6 w-6","aria-hidden":"true"}),"Disconnect A/V"]})]}):(0,r.jsx)(r.Fragment,{children:0===n.length&&(0,r.jsx)("button",{type:"button",onClick:function(){return Q()},className:"flex flex-col items-center px-2 py-2 text-sm leading-4 font-medium rounded-md text-gray-50 bg-opacity-100 hover:bg-opacity-20 hover:bg-gray-100",children:"Connect Audio & Video"})})})}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("button",{onClick:function(){if(!R)return g(!0),void(0,h.Am)((function(e){var t=e.closeToast;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"pb-1",children:"Turn on camera and microphone?"}),(0,r.jsxs)("p",{className:"text-xs pb-2",children:["Do you want to turn on camera and microphone? This is a chat-only invitation."," "]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:function(){Q(),g(!0),t()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Connect Audio/Video"}),(0,r.jsx)("button",{type:"button",onClick:function(){t(),g(!0)},className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Continue"})]})]})}),{autoClose:!1});g(!0)},type:"button",className:"flex flex-col items-center px-2 py-2 text-sm leading-4 font-medium rounded-md text-gray-50 bg-opacity-100 hover:bg-opacity-20 hover:bg-gray-100",children:[(0,r.jsx)(L.Z,{className:"mb-2 h-6 w-6","aria-hidden":"true"}),n.length?"Participants (".concat(n.length,")"):"Participants"]}),(0,r.jsxs)("div",{className:"flex items-center px-6 py-2 ",children:[B&&(0,r.jsx)("div",{className:"bg-red-500 flex-shrink-0 w-3 h-3 rounded-full","aria-hidden":"true"}),(0,r.jsxs)("button",{onClick:function(){return t()},type:"button",className:"flex flex-col items-center px-2 text-sm leading-4 font-medium rounded-md text-gray-50 bg-opacity-100 hover:bg-opacity-20 hover:bg-gray-100",children:[(0,r.jsx)(P,{className:"mb-2 h-6 w-6","aria-hidden":"true"}),"Chat"]})]}),(0,r.jsx)("div",{className:"flex items-center px-6 py-2 ",children:(0,r.jsxs)("button",{onClick:function(){return console.log(R.getVideoTracks()[0]),void(m?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(e){j.current&&(j.current.srcObject=e),O(e),Y(e)})):navigator.mediaDevices.getDisplayMedia({audio:!0,video:!0,cursor:!0}).then((function(e){j.current&&(j.current.srcObject=e),O(e),Y(e)})))},type:"button",className:"flex flex-col items-center px-2 text-sm leading-4 font-medium rounded-md text-green-400 bg-opacity-100 hover:bg-opacity-20 hover:bg-gray-100",children:[(0,r.jsx)(F,{className:"mb-2 h-6 w-6","aria-hidden":"true"}),m?"Stop Screen Share":"Share Screen"]})}),(0,r.jsxs)("button",{type:"button",onClick:function(){(null===H||void 0===H?void 0:H.data.lightningConfig.listening)?w(!0):h.Am.info("Connect to a lightning node to use this action.")},className:"flex flex-col items-center px-4 py-2 text-sm leading-4 font-medium rounded-md text-gray-50 bg-opacity-100 hover:bg-opacity-20 hover:bg-gray-100",children:[(0,r.jsx)(I.mly,{className:"mb-2 h-6 w-6 text-yellow-400","aria-hidden":"true"}),"Send/Receive"]})]}),(0,r.jsx)("div",{className:"flex space-x-4",children:(0,r.jsx)("button",{type:"button",onClick:function(){return $(),T(E.filter((function(e){return e.networkId!==M}))),void n.forEach((function(e){e.peer.destroy()}))},className:"inline-flex items-center px-8 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-200",children:"End"})}),(0,r.jsx)(D.Z,{open:y,setOpen:w,selectedContact:null}),(0,r.jsx)(V.Z,{open:v,setOpen:g,networkId:i,localStream:R||!1,title:"Invite Users to Meeting",subtitle:"Invite people to join this meeting.",type:"video-call-invitation"})]})})]})},H=n(3576);function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Q=function(){var e=function(){return s(!i)},t=function(){return c(!l)},n=(0,a.useState)(!1),i=n[0],s=n[1],o=(0,a.useState)(!1),l=o[0],c=o[1],u=K((0,k.KO)(C.Uy),2),d=u[0],f=u[1],m=K((0,k.KO)(C.C3),1)[0];return(0,a.useEffect)((function(){if(!d){console.log("Creating a new meeting room.");var e=(0,w.Z)();f(e)}}),[d,f]),(0,r.jsxs)(H.Z,{currentPage:"Meeting",hideNav:!0,children:[(0,r.jsx)(B,{peers:m,id:d,toggleParticipants:t,toggleMessaging:e}),(0,r.jsx)(T,{peers:m,id:d,openMessaging:i,toggleMessaging:e}),(0,r.jsx)(M,{peers:m,id:d,openParticipants:l,toggleParticipants:t})]})}},35079:function(e,t,n){"use strict";n.d(t,{R:function(){return B}});var r=n(67294),a=n(94192),i=n(19946),s=n(16723),o=n(3855);function l(e,t){let[n,a]=(0,r.useState)(e),i=(0,o.E)(e);return(0,s.e)((()=>a(i.current)),[i,a,...t]),n}var c,u,d=n(23784),f=n(12351),m=n(32984),p=n(9362),x=n(61363),v=n(11497),h=n(64103),g=n(84575),b=n(16567),y=n(14157),w=n(39650),j=n(46045),N=n(18689),R=n(15466),k=n(73781),O=n(31147),C=((u=C||{})[u.Open=0]="Open",u[u.Closed=1]="Closed",u),S=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(S||{}),E=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(E||{}),T=((c=T||{})[c.OpenListbox=0]="OpenListbox",c[c.CloseListbox=1]="CloseListbox",c[c.SetDisabled=2]="SetDisabled",c[c.SetOrientation=3]="SetOrientation",c[c.GoToOption=4]="GoToOption",c[c.Search=5]="Search",c[c.ClearSearch=6]="ClearSearch",c[c.RegisterOption=7]="RegisterOption",c[c.UnregisterOption=8]="UnregisterOption",c);function M(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=(0,g.z2)(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),a=n?r.indexOf(n):null;return-1===a&&(a=null),{options:r,activeOptionIndex:a}}let L={1:e=>e.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{value:n,mode:r,compare:a}=e.propsRef.current,i=e.options.findIndex((e=>{let t=e.dataRef.current.value;return(0,m.E)(r,{1:()=>n.some((e=>a(e,t))),0:()=>a(n,t)})}));return-1!==i&&(t=i),{...e,listboxState:0,activeOptionIndex:t}},2:(e,t)=>e.disabled===t.disabled?e:{...e,disabled:t.disabled},3:(e,t)=>e.orientation===t.orientation?e:{...e,orientation:t.orientation},4(e,t){var n;if(e.disabled||1===e.listboxState)return e;let r=M(e),a=(0,v.d)(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:a,activationTrigger:null!=(n=t.trigger)?n:1}},5:(e,t)=>{if(e.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),a=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),i=a?e.options.indexOf(a):-1;return-1===i||i===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:i,activationTrigger:1}},6:e=>e.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},7:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=M(e,(e=>[...e,n]));if(null===e.activeOptionIndex){let{value:a,mode:i,compare:s}=e.propsRef.current,o=t.dataRef.current.value;(0,m.E)(i,{1:()=>a.some((e=>s(e,o))),0:()=>s(a,o)})&&(r.activeOptionIndex=r.options.indexOf(n))}return{...e,...r}},8:(e,t)=>{let n=M(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},P=(0,r.createContext)(null);function F(e){let t=(0,r.useContext)(P);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,F),t}return t}function I(e,t){return(0,m.E)(t.type,L,e,t)}P.displayName="ListboxContext";let z=r.Fragment,V=(0,f.yV)((function(e,t){let{value:n,defaultValue:a,name:i,onChange:o,by:l=((e,t)=>e===t),disabled:c=!1,horizontal:u=!1,multiple:p=!1,...x}=e;const v=u?"horizontal":"vertical";let h=(0,d.T)(t),[y,R]=(0,O.q)(n,o,a),C=(0,r.useReducer)(I,{listboxState:1,propsRef:{current:{value:y,onChange:R,mode:p?1:0,compare:(0,k.z)("string"==typeof l?(e,t)=>{let n=l;return(null==e?void 0:e[n])===(null==t?void 0:t[n])}:l)}},labelRef:(0,r.createRef)(),buttonRef:(0,r.createRef)(),optionsRef:(0,r.createRef)(),disabled:c,orientation:v,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:S,propsRef:E,optionsRef:T,buttonRef:M},L]=C;E.current.value=y,E.current.mode=p?1:0,(0,s.e)((()=>{E.current.onChange=e=>(0,m.E)(E.current.mode,{0:()=>R(e),1(){let t=E.current.value.slice(),{compare:n}=E.current,r=t.findIndex((t=>n(t,e)));return-1===r?t.push(e):t.splice(r,1),R(t)}})}),[R,E]),(0,s.e)((()=>L({type:2,disabled:c})),[c]),(0,s.e)((()=>L({type:3,orientation:v})),[v]),(0,w.O)([M,T],((e,t)=>{var n;L({type:1}),(0,g.sP)(t,g.tJ.Loose)||(e.preventDefault(),null==(n=M.current)||n.focus())}),0===S);let F=(0,r.useMemo)((()=>({open:0===S,disabled:c,value:y})),[S,c,y]),V={ref:h};return r.createElement(P.Provider,{value:C},r.createElement(b.up,{value:(0,m.E)(S,{0:b.ZM.Open,1:b.ZM.Closed})},null!=i&&null!=y&&(0,N.t)({[i]:y}).map((([e,t])=>r.createElement(j._,{features:j.A.Hidden,...(0,f.oA)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),(0,f.sY)({ourProps:V,theirProps:x,slot:F,defaultTag:z,name:"Listbox"})))})),D=(0,f.yV)((function(e,t){var n;let[s,o]=F("Listbox.Button"),c=(0,d.T)(s.buttonRef,t),u=`headlessui-listbox-button-${(0,i.M)()}`,m=(0,a.G)(),p=(0,k.z)((e=>{switch(e.key){case x.R.Space:case x.R.Enter:case x.R.ArrowDown:e.preventDefault(),o({type:0}),m.nextFrame((()=>{s.propsRef.current.value||o({type:4,focus:v.T.First})}));break;case x.R.ArrowUp:e.preventDefault(),o({type:0}),m.nextFrame((()=>{s.propsRef.current.value||o({type:4,focus:v.T.Last})}))}})),g=(0,k.z)((e=>{switch(e.key){case x.R.Space:e.preventDefault()}})),b=(0,k.z)((e=>{if((0,h.P)(e.currentTarget))return e.preventDefault();0===s.listboxState?(o({type:1}),m.nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),o({type:0}))})),w=l((()=>{if(s.labelRef.current)return[s.labelRef.current.id,u].join(" ")}),[s.labelRef.current,u]),j=(0,r.useMemo)((()=>({open:0===s.listboxState,disabled:s.disabled,value:s.propsRef.current.value})),[s]),N=e,R={ref:c,id:u,type:(0,y.f)(e,s.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=s.optionsRef.current)?void 0:n.id,"aria-expanded":s.disabled?void 0:0===s.listboxState,"aria-labelledby":w,disabled:s.disabled,onKeyDown:p,onKeyUp:g,onClick:b};return(0,f.sY)({ourProps:R,theirProps:N,slot:j,defaultTag:"button",name:"Listbox.Button"})})),Z=(0,f.yV)((function(e,t){let[n]=F("Listbox.Label"),a=`headlessui-listbox-label-${(0,i.M)()}`,s=(0,d.T)(n.labelRef,t),o=(0,k.z)((()=>{var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),l=(0,r.useMemo)((()=>({open:0===n.listboxState,disabled:n.disabled})),[n]);return(0,f.sY)({ourProps:{ref:s,id:a,onClick:o},theirProps:e,slot:l,defaultTag:"label",name:"Listbox.Label"})})),A=f.AN.RenderStrategy|f.AN.Static,_=(0,f.yV)((function(e,t){var n;let[s,o]=F("Listbox.Options"),c=(0,d.T)(s.optionsRef,t),u=`headlessui-listbox-options-${(0,i.M)()}`,h=(0,a.G)(),g=(0,a.G)(),y=(0,b.oJ)(),w=null!==y?y===b.ZM.Open:0===s.listboxState;(0,r.useEffect)((()=>{var e;let t=s.optionsRef.current;!t||0===s.listboxState&&t!==(null==(e=(0,R.r)(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[s.listboxState,s.optionsRef]);let j=(0,k.z)((e=>{switch(g.dispose(),e.key){case x.R.Space:if(""!==s.searchQuery)return e.preventDefault(),e.stopPropagation(),o({type:5,value:e.key});case x.R.Enter:if(e.preventDefault(),e.stopPropagation(),null!==s.activeOptionIndex){let{dataRef:e}=s.options[s.activeOptionIndex];s.propsRef.current.onChange(e.current.value)}0===s.propsRef.current.mode&&(o({type:1}),(0,p.k)().nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case(0,m.E)(s.orientation,{vertical:x.R.ArrowDown,horizontal:x.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),o({type:4,focus:v.T.Next});case(0,m.E)(s.orientation,{vertical:x.R.ArrowUp,horizontal:x.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),o({type:4,focus:v.T.Previous});case x.R.Home:case x.R.PageUp:return e.preventDefault(),e.stopPropagation(),o({type:4,focus:v.T.First});case x.R.End:case x.R.PageDown:return e.preventDefault(),e.stopPropagation(),o({type:4,focus:v.T.Last});case x.R.Escape:return e.preventDefault(),e.stopPropagation(),o({type:1}),h.nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case x.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(o({type:5,value:e.key}),g.setTimeout((()=>o({type:6})),350))}})),N=l((()=>{var e,t,n;return null!=(n=null==(e=s.labelRef.current)?void 0:e.id)?n:null==(t=s.buttonRef.current)?void 0:t.id}),[s.labelRef.current,s.buttonRef.current]),O=(0,r.useMemo)((()=>({open:0===s.listboxState})),[s]),C=e,S={"aria-activedescendant":null===s.activeOptionIndex||null==(n=s.options[s.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===s.propsRef.current.mode||void 0,"aria-labelledby":N,"aria-orientation":s.orientation,id:u,onKeyDown:j,role:"listbox",tabIndex:0,ref:c};return(0,f.sY)({ourProps:S,theirProps:C,slot:O,defaultTag:"ul",features:A,visible:w,name:"Listbox.Options"})})),U=(0,f.yV)((function(e,t){let{disabled:n=!1,value:a,...o}=e,[l,c]=F("Listbox.Option"),u=`headlessui-listbox-option-${(0,i.M)()}`,x=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===u,{value:h,compare:g}=l.propsRef.current,b=(0,m.E)(l.propsRef.current.mode,{1:()=>h.some((e=>g(e,a))),0:()=>g(h,a)}),y=(0,r.useRef)(null),w=(0,d.T)(t,y);(0,s.e)((()=>{if(0!==l.listboxState||!x||0===l.activationTrigger)return;let e=(0,p.k)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=y.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[y,x,l.listboxState,l.activationTrigger,l.activeOptionIndex]);let j=(0,r.useRef)({disabled:n,value:a,domRef:y});(0,s.e)((()=>{j.current.disabled=n}),[j,n]),(0,s.e)((()=>{j.current.value=a}),[j,a]),(0,s.e)((()=>{var e,t;j.current.textValue=null==(t=null==(e=y.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[j,y]);let N=(0,k.z)((()=>l.propsRef.current.onChange(a)));(0,s.e)((()=>(c({type:7,id:u,dataRef:j}),()=>c({type:8,id:u}))),[j,u]);let R=(0,k.z)((e=>{if(n)return e.preventDefault();N(),0===l.propsRef.current.mode&&(c({type:1}),(0,p.k)().nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),O=(0,k.z)((()=>{if(n)return c({type:4,focus:v.T.Nothing});c({type:4,focus:v.T.Specific,id:u})})),C=(0,k.z)((()=>{n||x||c({type:4,focus:v.T.Specific,id:u,trigger:0})})),S=(0,k.z)((()=>{n||!x||c({type:4,focus:v.T.Nothing})})),E=(0,r.useMemo)((()=>({active:x,selected:b,disabled:n})),[x,b,n]);return(0,f.sY)({ourProps:{id:u,ref:w,role:"option",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,"aria-selected":b,disabled:void 0,onClick:R,onFocus:O,onPointerMove:C,onMouseMove:C,onPointerLeave:S,onMouseLeave:S},theirProps:o,slot:E,defaultTag:"li",name:"Listbox.Option"})})),B=Object.assign(V,{Button:D,Label:Z,Options:_,Option:U})},61782:function(e,t,n){"use strict";var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}))}));t.Z=a},10822:function(e,t,n){"use strict";var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"}))}));t.Z=a},13902:function(e,t,n){"use strict";var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}));t.Z=a},19965:function(e,t,n){"use strict";var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}))}));t.Z=a},58057:function(e,t,n){"use strict";var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}));t.Z=a},42833:function(e,t,n){"use strict";var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"}))}));t.Z=a},42633:function(e,t,n){"use strict";var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"}))}));t.Z=a},91013:function(e,t,n){"use strict";var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"}))}));t.Z=a},78757:function(e,t,n){"use strict";var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}))}));t.Z=a},68163:function(e,t,n){"use strict";var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))}));t.Z=a}},function(e){e.O(0,[774,445,13,270,723,576,426,449,888,179],(function(){return t=7309,e(e.s=t);var t}));var t=e.O();_N_E=t}]);